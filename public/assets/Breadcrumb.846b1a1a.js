var Z=Object.defineProperty,q=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var z=(e,n,o)=>n in e?Z(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,I=(e,n)=>{for(var o in n||(n={}))J.call(n,o)&&z(e,o,n[o]);if(V)for(var o of V(n))K.call(n,o)&&z(e,o,n[o]);return e},y=(e,n)=>q(e,H(n));var L=(e,n,o)=>new Promise((v,m)=>{var b=c=>{try{d(o.next(c))}catch(p){m(p)}},f=c=>{try{d(o.throw(c))}catch(p){m(p)}},d=c=>c.done?v(c.value):Promise.resolve(c.value).then(b,f);d((o=o.apply(e,n)).next())});import{a as Q,b as W,aR as X,al as Y,ep as x,ah as ee,r as te,aw as ae,w as ne,b1 as re,a6 as se,u as oe,aE as ce,az as ie,aZ as le,au as ue,dT as me,x as O,o as C,c as B,i as he,A as de,f as $,U as pe,t as j,ao as fe,e as ge,aL as ve,am as G,bC as be,D as Ce}from"./index.10ef4608.js";import"./index.8d0858e7.js";/* empty css               */import"./onMountedOrActivated.0d13b2a6.js";import"./useWindowSizeFn.3e5b045d.js";import"./useContentViewHeight.9302814f.js";const _e=W({name:"LayoutBreadcrumb",components:{SvgIcon:X,Icon:Y,[x.name]:x},props:{theme:ee.oneOf(["dark","light"])},setup(){const e=te([]),{currentRoute:n}=ae(),{prefixCls:o}=ne("layout-breadcrumb"),{getShowBreadCrumbIcon:v}=re(),m=se(),{t:b}=oe();ce(()=>L(this,null,function*(){var k,S,w,P,R,A,E,D,M,N,T,F;if(n.value.name===ie)return;const t=yield le(),s=n.value.matched,r=s==null?void 0:s[s.length-1];let i=n.value.path;r&&((k=r==null?void 0:r.meta)==null?void 0:k.currentActiveMenu)&&(i=r.meta.currentActiveMenu);const u=ue(t,i),h=t.filter(U=>U.path===u[0]),l=f(h,u);if(!l||l.length===0)return;const a=d(l);(S=n.value.meta)!=null&&S.currentActiveMenu&&a.push(y(I({},n.value),{name:((w=n.value.meta)==null?void 0:w.title)||n.value.name})),a.length===1?a[0].children=[]:(a[1].children=a[0].children,a[0].children=[]),((P=a[1])==null?void 0:P.path)=="/mom/increasedData"&&(a[1].children=[]),(R=a[1])!=null&&R.path.includes("/mom/check")&&(a[1].children=[]),(A=a[1])!=null&&A.path.includes("/mom/dataChange")&&(a[1].children=[]),((E=a[1])==null?void 0:E.path)=="/rdm/increasedData"&&(a[1].children=[]),(D=a[1])!=null&&D.path.includes("/rdm/check")&&(a[1].children=[]),(M=a[1])!=null&&M.path.includes("/rdm/dataChange")&&(a[1].children=[]),((N=a[1])==null?void 0:N.path)=="/processmanagement"&&(a[1].children=[]),((T=a[1])==null?void 0:T.path)=="/managementthroughfigures"&&(a[1].children=[]),(F=a[2])!=null&&F.path.includes("/edit")&&console.log(" ",a[2].name="\u5206\u6790\u4EFB\u52A1\u7F16\u8F91"),e.value=a}));function f(t,s){const r=[];return t.forEach(i=>{var u,h;s.includes(i.path)&&r.push(y(I({},i),{name:((u=i.meta)==null?void 0:u.title)||i.name})),(h=i.children)!=null&&h.length&&r.push(...f(i.children,s))}),r}function d(t){return me(t,s=>{const{meta:r,name:i}=s;if(!r)return!!i;const{title:u,hideBreadcrumb:h}=r;return!(!u||h)}).filter(s=>{var r;return!((r=s.meta)!=null&&r.hideBreadcrumb)})}function c(t,s,r){r==null||r.preventDefault();const{children:i,redirect:u,meta:h}=t;if((i==null?void 0:i.length)&&!u){r==null||r.stopPropagation(),m(t.path);return}if(!(h!=null&&h.carryParam))if(u&&be(u))m(u);else if(t.path=="/moa"||t.path=="/visual"||t.path=="/system"||t.path=="/cm"){const l=e.value[1].children[0].path;m(l)}else if(t.path=="/sdp"||t.path=="/processmanagement"||t.path=="/managementthroughfigures")m("/sdp/aptm");else{let l="";s.length===1?l=s[0]:l=`${s.slice(1).pop()||""}`,l=/^\//.test(l)?l:`/${l}`,m(l)}}function p(t,s){return t.indexOf(s)!==t.length-1}function g(t){var s;return t.icon||((s=t.meta)==null?void 0:s.icon)}function _(t){return console.log(" ",t),t?m(`/${t}`):!1}return{routes:e,t:b,prefixCls:o,getIcon:g,getShowBreadCrumbIcon:v,handleClick:c,hasRedirect:p,handleToPage:_}}}),ke=Ce("\xA0 "),Ie={key:1,style:{cursor:"pointer"}},ye=["onClick"];function Be(e,n,o,v,m,b){const f=O("SvgIcon"),d=O("a-breadcrumb");return C(),B("div",{class:G([e.prefixCls,`${e.prefixCls}--${e.theme}`])},[he(d,{routes:e.routes},{itemRender:de(({route:c,routes:p,paths:g})=>[$(' <Icon :icon="getIcon(route)" v-if="getShowBreadCrumbIcon && getIcon(route)" /> '),e.getShowBreadCrumbIcon&&e.getIcon(c)?(C(),pe(f,{key:0,name:e.getIcon(c)},null,8,["name"])):$("v-if",!0),ke,e.hasRedirect(p,c)?(C(),B(fe,{key:2},[$(` <router-link v-else :to="paths[2] ? \`/\${paths[2]}\` : ''">\r
          {{ t(route.name || route.meta.title) }}\r
        </router-link> `),ge("div",{style:ve([{cursor:"pointer"},{width:g[2]?"110px":"auto"}]),class:G(["inline-block",g[2]&&"collapse-title"]),onClick:_=>e.handleClick(c,g,_)},j(e.t(c.name||c.meta.title)),15,ye)],2112)):(C(),B("span",Ie,j(e.t(c.name||c.meta.title)),1))]),_:1},8,["routes"])],2)}var De=Q(_e,[["render",Be]]);export{De as default};
