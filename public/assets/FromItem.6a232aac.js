var P=Object.defineProperty;var M=Object.getOwnPropertySymbols;var D=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var y=(o,r,e)=>r in o?P(o,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[r]=e,A=(o,r)=>{for(var e in r||(r={}))D.call(r,e)&&y(o,e,r[e]);if(M)for(var e of M(r))F.call(r,e)&&y(o,e,r[e]);return o};var d=(o,r,e)=>new Promise((a,i)=>{var f=s=>{try{c(e.next(s))}catch(t){i(t)}},h=s=>{try{c(e.throw(s))}catch(t){i(t)}},c=s=>s.done?a(s.value):Promise.resolve(s.value).then(f,h);c((e=e.apply(o,r)).next())});import{u as B,B as E}from"./useForm.98d7b8ca.js";import{u as I}from"./useSetFrom.689ec4a2.js";import{c as R}from"./add.f693dce6.js";import{a as O,b as S,u as V,aT as b,q as j,o as q,c as T,e as z,i as Z,j as v}from"./index.10ef4608.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";/* empty css                *//* empty css                */import"./uuid.2429c801.js";import"./index.c8f8ec06.js";import"./useWindowSizeFn.3e5b045d.js";import"./useModalContext.52c86736.js";import"./TableAction.edf9a202.js";/* empty css                */import"./download.66a6d137.js";import"./index.504b494d.js";const k={style:{display:"flex",width:"100%",margin:"10px 0px"}},N=S({__name:"FromItem",props:{item:{type:Object,required:!0},index:{type:Number,required:!0}},setup(o,{expose:r}){const e=o,{t:a}=V(),i=I(),[f,{validate:h,setFieldsValue:c}]=B({labelWidth:60,schemas:[{field:"name",component:"Input",rules:[{required:!0,message:a("AllMessage.nameRulesMessage")}],label:a("mom.increasedData.name"),colProps:{span:6,offset:0},componentProps:{style:{borderRadius:"5px",border:"1px solid #D6D8E0 !important",height:"36px"},placeholder:" "}},{field:"phone",component:"Input",componentProps:({formActionType:s,formModel:t})=>({onBlur:b(()=>d(this,null,function*(){try{if(t.phone){const{updateSchema:n,validate:g}=s,x={phone:t.phone},u=yield R(x);yield n({field:"phone",rules:[{pattern:/^(13[0-9]|14[01456879]|15[0-35-9]|16[2567]|17[0-8]|18[0-9]|19[0-35-9])\d{8}$/,message:a("AllMessage.phoneRulesMessageOne")},{max:50,message:a("AllMessage.phoneRulesMessageTwo")},{validator:()=>d(this,null,function*(){return u?Promise.resolve():Promise.reject(a("AllMessage.phoneRulesMessageValidatorOne"))}),validateTrigger:"blur"},{validator:(w,l)=>d(this,null,function*(){if(u&&l){i.addShareinfo[e.index].phone=l;let m=!0;return i.addShareinfo.forEach((p,_)=>{_!=e.index&&p.phone==l&&(m=!1)}),i.addAddDataOwnerinfo.forEach(p=>{p.phone==l&&(m=!1)}),m?Promise.resolve():Promise.reject(a("AllMessage.phoneRulesMessageValidatorTwo"))}})}]}),yield g(["phone"])}}catch(n){console.error(n)}}),100),style:{borderRadius:"5px",border:"1px solid #D6D8E0 !important",height:"36px"},placeholder:" "}),label:a("mom.increasedData.phone"),colProps:{span:9,offset:0}},{field:"mail",component:"Input",required:!0,componentProps:({formActionType:s,formModel:t})=>({onBlur:b(()=>d(this,null,function*(){try{if(t.mail){const{updateSchema:n,validate:g}=s,x={mail:t.mail},u=yield R(x);yield n({field:"mail",rules:[{required:!0,message:a("AllMessage.mailRulesMessage")},{pattern:/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/,message:a("AllMessage.mailRulesMessageOne")},{max:50,message:a("AllMessage.mailRulesMessageTwo")},{validator:()=>d(this,null,function*(){return u?Promise.resolve():Promise.reject(a("AllMessage.mailRulesMessageValidatorOne"))})},{validator:(w,l)=>d(this,null,function*(){if(l&&u){i.addShareinfo[e.index].mail=l;let m=!0;return i.addShareinfo.forEach((p,_)=>{_!=e.index&&p.mail==l&&(m=!1)}),i.addAddDataOwnerinfo.forEach(p=>{p.mail==l&&(m=!1)}),m?Promise.resolve():Promise.reject(a("AllMessage.mailRulesMessageValidatorTwo"))}})}]}),yield g(["mail"])}}catch(n){console.error(n)}}),100),style:{borderRadius:"5px",border:"1px solid #D6D8E0 !important",height:"36px"},placeholder:" "}),label:a("mom.increasedData.email"),colProps:{span:9,offset:0}}],showActionButtonGroup:!1});return j(()=>{(e.item.name||e.item.phone||e.item.mail)&&c(A({},e.item))}),r({validate:h,setFieldsValue:c}),(s,t)=>(q(),T("div",null,[z("div",k,[Z(v(E),{onRegister:v(f),style:{width:"100%"}},null,8,["onRegister"])])]))}});var ce=O(N,[["__scopeId","data-v-bee57eda"]]);export{ce as default};
