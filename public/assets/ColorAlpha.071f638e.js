import{d as c}from"./draggable.354c5b1e.js";import{a as p,b as $,r as u,l as b,ay as m,q as y,aG as w,o as _,c as R,e as g,aL as s}from"./index.10ef4608.js";const k=12,C=$({name:"ColorAlpha",props:{value:{type:Object,required:!0},width:{type:Number,default:100}},setup(e){const o=u(null),i=u(null),l=u(null),f=u(0),r=u(0),v=b(()=>{if(e.value&&e.value.v){const{r:a,g:t,b:n}=e.value.rgba;return`linear-gradient(to right, rgba(${a}, ${t}, ${n}, 0) 0%, rgba(${a}, ${t}, ${n}, 1) 100%)`}return null});function d(){const a=e.value.get("a");if(!o.value)return r.value=0,0;r.value=Math.round(a*(o.value.offsetWidth-l.value.offsetWidth/2)/100)}m(()=>e.value.get("a"),()=>d());function h(a){const t=o.value.getBoundingClientRect();let n=a.clientX-t.left;n=Math.max(l.value.offsetWidth/2,n),n=Math.min(n,t.width-l.value.offsetWidth/2),e.value.set("a",Math.round((n-l.value.offsetWidth/2)/(t.width-l.value.offsetWidth)*100))}return y(()=>{w(()=>{const a={drag:t=>{h(t)},end:t=>{h(t)}};c(i.value,a),c(l.value,a),d()})}),{alphaRef:o,barRef:i,thumbRef:l,height:k,onMousedown:h,top:f,left:r,background:v}}});function M(e,o,i,l,f,r){return _(),R("div",{ref:"alphaRef",class:"color-alpha",style:s({width:`${e.width}px`,height:`${e.height}px`})},[g("div",{ref:"barRef",style:s({height:`${e.height}px`,background:e.background})},null,4),g("div",{ref:"thumbRef",style:s({width:`${e.height}px`,height:`${e.height}px`,top:`${e.top}px`,left:`${e.left}px`})},null,4)],4)}var B=p(C,[["render",M]]);export{B as default};
