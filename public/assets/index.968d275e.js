var S=Object.defineProperty,H=Object.defineProperties;var N=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var k=(s,a,t)=>a in s?S(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t,i=(s,a)=>{for(var t in a||(a={}))T.call(a,t)&&k(s,t,a[t]);if(w)for(var t of w(a))j.call(a,t)&&k(s,t,a[t]);return s},h=(s,a)=>H(s,N(a));import{b as M,r as _,bc as A,b1 as z,ay as V,l as C,j as d,n as G,dg as P,a as $,aG as U,o as x,c as B,f as b,e as y,am as J,ao as K,bG as D}from"./index.10ef4608.js";import"./index.c8f8ec06.js";import{o as O}from"./onMountedOrActivated.0d13b2a6.js";import{u as q}from"./useModalContext.52c86736.js";var F=Vditor;const Q=M({inheritAttrs:!1,props:{height:{type:Number,default:360},value:{type:String,default:""}},emits:["change","get","update:value"],setup(s,{attrs:a,emit:t}){const l=_(null),o=_(null),f=_(!1),u=q(),{getLocale:E}=A(),{getDarkMode:m}=z(),p=_(s.value||"");V([()=>m.value,()=>f.value],([e,n])=>{var r;if(!n)return;const c=e==="dark"?"dark":"classic";(r=v.getVditor())==null||r.setTheme(c)},{immediate:!0,flush:"post"}),V(()=>s.value,e=>{var n;e!==p.value&&((n=v.getVditor())==null||n.setValue(e)),p.value=e});const R=C(()=>{let e;switch(d(E)){case"en":e="en_US";break;case"ja":e="ja_JP";break;case"ko":e="ko_KR";break;default:e="zh_CN"}return e});function L(){const e=d(l);if(!e)return;const n=i(i({},a),s),c=new F(e,h(i({theme:m.value==="dark"?"dark":"classic",lang:d(R),mode:"wysiwyg",fullscreen:{index:520},preview:{actions:[],markdown:{codeBlockPreview:!1}},input:r=>{p.value=r,t("update:value",r),t("change",r)},after:()=>{U(()=>{var r;(r=u==null?void 0:u.redoModalHeight)==null||r.call(u),c.setValue(p.value),o.value=c,f.value=!0,t("get",v)})},blur:()=>{}},n),{cache:{enable:!1}}))}const v={getVditor:()=>o.value};function g(){var n;const e=d(o);if(!!e){try{(n=e==null?void 0:e.destroy)==null||n.call(e)}catch(c){}o.value=null,f.value=!1}}return O(L),G(g),P(g),i({wrapRef:l},v)}}),W={ref:"wrapRef"};function X(s,a,t,l,o,f){return x(),B("div",W,null,512)}var Y=$(Q,[["render",X]]);const Z=["innerHTML"],I=M({__name:"MarkdownViewer",props:{value:{type:String},class:{type:String}},setup(s){const a=s,t=C(()=>a.value||"");return(l,o)=>(x(),B(K,null,[b(" eslint-disable vue/no-v-html "),y("div",null,[b(' <div class="detail-title">\u8BE6\u7EC6\u4ECB\u7ECD\uFF1A</div> '),y("div",{innerHTML:d(t),class:J([l.$props.class,"markdown-viewer"])},null,10,Z)])],2112))}});var ee=$(I,[["__scopeId","data-v-0186f116"]]);const oe=D(Y),le=D(ee);export{le as M,oe as a};
