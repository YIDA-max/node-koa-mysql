var y=(f,r,l)=>new Promise((i,n)=>{var v=s=>{try{b(l.next(s))}catch(h){n(h)}},g=s=>{try{b(l.throw(s))}catch(h){n(h)}},b=s=>s.done?i(s.value):Promise.resolve(s.value).then(v,g);b((l=l.apply(f,r)).next())});import{u as F,B as j}from"./useForm.98d7b8ca.js";import{u as N,b as S,r as d,ay as x,q as O,o as z,c as E,i as m,A as w,j as u,X as A,cl as R,ab as U,D,t as G,cv as q,e as V}from"./index.10ef4608.js";/* empty css               */import{u as H}from"./casual.c3003c80.js";/* empty css              *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";/* empty css                *//* empty css                */import"./uuid.2429c801.js";import"./index.c8f8ec06.js";import"./useWindowSizeFn.3e5b045d.js";import"./useModalContext.52c86736.js";import"./TableAction.edf9a202.js";/* empty css                */import"./download.66a6d137.js";import"./index.504b494d.js";const{t:c}=N(),I=()=>{const f=[{field:"title",component:"Input",label:c("AllMessage.visual.two.PreferencesList.title"),colProps:{span:7,offset:0}},{field:"x_title",component:"Input",label:c("AllMessage.visual.two.PreferencesList.x_title")},{field:"y_title",component:"Input",label:c("AllMessage.visual.two.PreferencesList.y_title")},{field:"height",component:"Input",label:c("AllMessage.visual.two.PreferencesList.height"),rules:[{validator:(r,l)=>y(void 0,null,function*(){return isNaN(l)&&l?Promise.reject(c("AllMessage.visual.two.PreferencesList.number")):!0}),validateTrigger:"blur"}],colProps:{span:7,offset:0}},{field:"width",component:"Input",label:c("AllMessage.visual.two.PreferencesList.width"),rules:[{validator:(r,l)=>y(void 0,null,function*(){return isNaN(l)&&l?Promise.reject(c("AllMessage.visual.two.PreferencesList.number")):!0}),validateTrigger:"blur"}]},{field:"method",component:"Select",label:c("AllMessage.visual.two.PreferencesList.method"),slot:"method",componentProps:{options:[{label:"probability",value:"probability",key:"probability"},{label:"bits",value:"bits",key:"bits"}]}}];return f.forEach(r=>{r.component=="Select"&&(r.componentProps||(r.componentProps={}),r.componentProps.size="large")}),f},W={style:{minHeight:"400px"}},X=V("br",null,null,-1),$=V("br",null,null,-1),he=S({__name:"Logo",props:{toNextFn:Function},setup(f,{expose:r}){const{t:l}=N(),i=H(),n=d([]),v=d([]),g=d(""),b=d(!1),s=d([]),h=d([]);x(()=>b.value,()=>{if(b.value){let t="";s.value.map(a=>{t=t+`%23${a.color.slice(1)},`}),t=t.substr(0,t.length-1),g.value=t}}),x(()=>i.useVisualConstructionTwohander,()=>{M(),v.value=i.useVisualConstructionTwohander,v.value.forEach(e=>{e.label=e.title,e.value=e.title}),n.value=[],s.value=[];const t=[...i.useVisualConstructionTwohander],a=[...i.useVisualConstructionTwobody];t.map(e=>{isNaN(a[0][e.dataIndex])||(e.label=e.title,e.value=e.title,n.value.push(e),s.value.push({color:P()}))})});const P=()=>{for(var t="#",a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=0;e<6;e++){var o=parseInt(Math.random()*16);t+=a[o]}return t},[L,{setFieldsValue:C,validate:_,resetFields:M}]=F({labelWidth:110,schemas:I(),baseColProps:{span:7,offset:1},actionColOptions:{span:18,offset:4},showActionButtonGroup:!1}),T=()=>y(this,null,function*(){return g.value?{validate:yield _(),colorArr:g.value}:{validate:yield _()}}),k=t=>{t=="bits"?C({y_title:"Bits"}):t=="prob"&&C({y_title:"Probability"})};return O(()=>{const t=setInterval(()=>{if(i.useVisualConstructionTwohander){v.value=i.useVisualConstructionTwohander,v.value.forEach(o=>{o.label=o.title,o.value=o.title}),n.value=[],s.value=[];const a=[...i.useVisualConstructionTwohander],e=[...i.useVisualConstructionTwobody];a.map(o=>{isNaN(e[0][o.dataIndex])||(o.label=o.title,o.value=o.title,n.value.push(o),s.value.push({color:P()}))}),clearInterval(t)}},1e3)}),r({returnedValue:T,controlGroup:h}),(t,a)=>(z(),E("div",W,[m(u(j),{onRegister:u(L)},{comparisons:w(({model:e,field:o})=>[m(u(A),{size:"large",options:n.value,value:e[o],"onUpdate:value":p=>e[o]=p,allowClear:"",showSearch:"","filter-option":(p,B)=>B.label.toLowerCase().indexOf(p.toLowerCase())>=0},null,8,["options","value","onUpdate:value","filter-option"])]),method:w(({model:e,field:o})=>[m(u(A),{size:"large",value:e[o],"onUpdate:value":p=>e[o]=p,onChange:a[0]||(a[0]=p=>{k(p)}),options:[{label:"prob",value:"prob",key:"prob"},{label:"bits",value:"bits",key:"bits"}]},null,8,["value","onUpdate:value"])]),_:1},8,["onRegister"]),X,$,m(u(q),null,{default:w(()=>[m(u(R),{span:4,offset:11},{default:w(()=>[m(u(U),{size:"middle",style:{background:"#3152ed",color:"#ffffff",margin:"0px 0px",borderRadius:"4px"},onClick:a[1]||(a[1]=()=>{f.toNextFn()})},{default:w(()=>[D(G(u(l)("AllMessage.visual.two.PreferencesList.confirm")),1)]),_:1})]),_:1})]),_:1})]))}});export{he as default};
