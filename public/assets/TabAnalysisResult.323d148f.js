var w=(n,s,e)=>new Promise((_,u)=>{var p=l=>{try{m(e.next(l))}catch(c){u(c)}},d=l=>{try{m(e.throw(l))}catch(c){u(c)}},m=l=>l.done?_(l.value):Promise.resolve(l.value).then(p,d);m((e=e.apply(n,s)).next())});import{u as A,B as D}from"./useTable.a143d40c.js";import{T as N}from"./TableAction.edf9a202.js";import{a as V,b as z,u as q,r as T,ay as M,x as C,o as P,c as U,i as r,A as a,j as o,cv as j,cl as h,D as F,t as b,p as G,k as H,e as y,G as $}from"./index.10ef4608.js";/* empty css               */import J from"./index.b10c497b.js";import{r as K}from"./fileSys.281186ac.js";import"./useForm.98d7b8ca.js";/* empty css              *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";/* empty css                *//* empty css                */import"./uuid.2429c801.js";import"./index.c8f8ec06.js";import"./useWindowSizeFn.3e5b045d.js";import"./useModalContext.52c86736.js";/* empty css                */import"./download.66a6d137.js";import"./index.504b494d.js";import"./index.8d0858e7.js";/* empty css               */import"./onMountedOrActivated.0d13b2a6.js";import"./useContentViewHeight.9302814f.js";import"./icon-remark.1929ee0a.js";import"./useSortable.79752a2a.js";/* empty css                */import"./CustomConfirmModal.beec0858.js";import"./modal-error.7cada6d5.js";const E=n=>(G("data-v-0927eb12"),n=n(),H(),n),L=E(()=>y("span",null,"\u8BF7\u52FE\u9009\u4EE5\u4E0B\u8868\u683C\u6587\u4EF6",-1)),O=E(()=>y("span",null,"\u6279\u91CF\u4E0B\u8F7D\u8868\u683C\u5185\u6587\u4EF6",-1)),Q=z({__name:"TabAnalysisResult",props:{completeTime:String,statusa:String,tabledata:{type:Array,required:!0}},setup(n){const s=n,{t:e}=q(),{createMessage:_}=$(),u=T([]),p=T(!0),d=T(!1),m=()=>[{title:e("moa.ard.fileName"),dataIndex:"name",width:200},{title:e("moa.ard.filePath"),dataIndex:"url",width:300}],l=()=>w(this,null,function*(){return u.value=[],u.value=yield v(),u.value}),[c,{getRowSelection:x,getSelectRows:v,setTableData:B}]=A({columns:m(),afterFetch:i=>i,bordered:!0,clickToRowSelect:!1,isTreeTable:!1,striped:!0,showTableSetting:!1,showIndexColumn:!1,canResize:!1,rowSelection:{type:"checkbox"}}),S=()=>w(this,null,function*(){const i=yield v();v().length==0&&_.error("\u8BF7\u52FE\u9009\u4EE5\u4E0B\u8868\u683C\u5185\u6587\u4EF6"),i.forEach((t,f)=>{K(R(t.url),f+1>10?1e3:(f+1)*100)})});function R(i){var t=i.replace("http","http");window.open(t,"_blank")}const k=()=>{console.log(x())};return M(()=>s.tabledata,()=>{var i;((i=s.tabledata)==null?void 0:i.length)>0&&B([...s.tabledata])}),(i,t)=>{const f=C("a-tooltip"),I=C("CustomButton");return P(),U("div",null,[r(o(D),{onRegister:o(c),onSelectionChange:t[3]||(t[3]=({rows:g})=>{g.length>0?p.value=!1:p.value=!0})},{tableTitle:a(()=>[r(o(j),null,{default:a(()=>[r(o(h),{span:18},{default:a(()=>[F(b(o(e)("moa.ard.analysisStataus"))+"\uFF1A"+b(s.statusa?s.statusa:o(e)("moa.ard.login")),1)]),_:1}),r(o(h),{span:18},{default:a(()=>[F(b(o(e)("moa.ard.doneTime"))+"\uFF1A"+b(s.completeTime?s.completeTime:o(e)("moa.ard.login")),1)]),_:1})]),_:1})]),toolbar:a(()=>[r(f,{placement:"top",onClick:t[0]||(t[0]=()=>{d.value=!1}),trigger:"hover",visible:d.value,"onUpdate:visible":t[1]||(t[1]=g=>d.value=g)},{title:a(()=>[L]),default:a(()=>[r(J,{isdisabled:p.value,share:l},null,8,["isdisabled"])]),_:1},8,["visible"]),r(f,{placement:"top"},{title:a(()=>[O]),default:a(()=>[r(I,{onClick:t[2]||(t[2]=()=>{S()}),disabled:p.value,size:"middle",shape:"round",style:{background:"#2d54ec",color:"#fff",margin:"0px 0px",borderRadius:"4px"}},{default:a(()=>[F(b(o(e)("moa.ard.downs")),1)]),_:1},8,["disabled"])]),_:1})]),action:a(()=>[r(o(N),{actions:[{label:"\u53EF\u89C6\u5316",icon:"ic:outline-delete-outline",onClick:()=>{k()}}]},null,8,["actions"])]),_:1},8,["onRegister"])])}}});var ke=V(Q,[["__scopeId","data-v-0927eb12"]]);export{ke as default};
