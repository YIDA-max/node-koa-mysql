import{a as P,b as $,r as p,s as H,ay as v,l as W,q as N,aG as U,x as a,o as h,c as C,i,e as s,f as w,am as z,aL as A,E as y}from"./index.10ef4608.js";import B from"./ColorPanel.209bf7d4.js";import E from"./ColorPreview.6aea0981.js";import L from"./ColorHue.94d928ef.js";import S from"./ColorAlpha.071f638e.js";import V from"./ColorValue.246a701d.js";import{C as F,a as I}from"./ColorList.125944a3.js";import"./draggable.354c5b1e.js";const b=globalThis.document.documentElement.clientWidth,T=globalThis.document.documentElement.clientHeight,q=$({name:"ColorPicker",components:{ColorPanel:B,ColorPreview:E,ColorHue:L,ColorAlpha:S,ColorValue:V,ColorList:F},props:{value:{type:[String,null],default:"#fff"},zIndex:{type:Number,default:2},position:{type:Object,required:!0},theme:{type:String,default:"dark"},height:{type:Number,default:150},width:{type:Number,default:233},colors:{type:Array,default:["#ff4500","#ff8c00","#ffd700","#90ee9003","#00ced1","#1e90ff","#c71585","#ff4500ad","#ff7800","#fad400","#90f09080","#00babd","#1f93ffba","#c7158575"]},btn:{type:Boolean,default:!1},change:{type:Function},confirm:{type:Function},clear:{type:Function}},emits:["update:value","confirm","clear"],setup(o,{emit:e}){const u=p(null),r=p({left:o.position.x||0,top:o.position.y||0}),t=H(new I(o.value));v(()=>o.value,n=>{n&&n!==t.v&&t.format(n)});const m=W(()=>o.width-40);v(()=>t.v,()=>{e("update:value",t.v),o.change&&o.change(t.v)});function f(){e("confirm"),o.confirm&&o.confirm(t.v)}function c(){e("clear"),o.clear&&o.clear()}return N(()=>{U(()=>{const n=u.value.offsetWidth,d=u.value.offsetHeight;r.value.left+n>b&&(r.value.left=b-n),r.value.top+d>T&&(r.value.top=r.value.top-d)})}),{colorRef:u,style:r,color:t,hueWidth:m,clear:c,confirm:f}}}),M={class:"color-tool"},O={key:0,class:"color-btns"},R=s("span",null,"Clear",-1),j=[R],G=s("span",null,"OK",-1),K=[G];function D(o,e,u,r,t,m){const f=a("ColorPanel"),c=a("ColorPreview"),n=a("ColorHue"),d=a("ColorAlpha"),g=a("ColorValue"),k=a("ColorList");return h(),C("div",{ref:"colorRef",class:z(["color-picker",`color-picker-${o.theme}`]),style:A({width:`${o.width+20}px`,zIndex:o.zIndex,top:`${o.style.top}px`,left:`${o.style.left}px`}),onClick:e[8]||(e[8]=y(()=>{},["stop"])),onContextmenu:e[9]||(e[9]=y(()=>{},["prevent","stop"]))},[i(f,{value:o.color,"onUpdate:value":e[0]||(e[0]=l=>o.color=l),height:o.height,width:o.width},null,8,["value","height","width"]),s("div",M,[w(" <ColorStraw /> "),i(c,{value:o.color,"onUpdate:value":e[1]||(e[1]=l=>o.color=l)},null,8,["value"]),s("div",null,[i(n,{width:o.hueWidth,value:o.color,"onUpdate:value":e[2]||(e[2]=l=>o.color=l)},null,8,["width","value"]),i(d,{width:o.hueWidth,value:o.color,"onUpdate:value":e[3]||(e[3]=l=>o.color=l)},null,8,["width","value"])])]),i(g,{value:o.color,"onUpdate:value":e[4]||(e[4]=l=>o.color=l),width:o.width},null,8,["value","width"]),i(k,{colors:o.colors,value:o.color,"onUpdate:value":e[5]||(e[5]=l=>o.color=l)},null,8,["colors","value"]),o.btn?(h(),C("div",O,[s("button",{class:"color-btn",onClick:e[6]||(e[6]=(...l)=>o.clear&&o.clear(...l))},j),s("button",{class:"color-btn",onClick:e[7]||(e[7]=(...l)=>o.confirm&&o.confirm(...l))},K)])):w("v-if",!0)],38)}var eo=P(q,[["render",D]]);export{eo as default};
