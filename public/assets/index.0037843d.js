var j=Object.defineProperty;var A=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var E=(r,t,o)=>t in r?j(r,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[t]=o,M=(r,t)=>{for(var o in t||(t={}))G.call(t,o)&&E(r,o,t[o]);if(A)for(var o of A(t))H.call(t,o)&&E(r,o,t[o]);return r};var c=(r,t,o)=>new Promise((g,C)=>{var x=u=>{try{p(o.next(u))}catch(_){C(_)}},D=u=>{try{p(o.throw(u))}catch(_){C(_)}},p=u=>u.done?g(u.value):Promise.resolve(u.value).then(x,D);p((o=o.apply(r,t)).next())});import{a as V,b as W,u as J,cJ as Q,aw as K,r as z,ch as X,aG as Z,q as ee,x as N,o as f,c as te,i as m,A as i,j as s,I as ae,d5 as se,d6 as oe,U as y,D as k,t as d,f as b,e as P,aL as L,d7 as ie}from"./index.10ef4608.js";/* empty css              *//* empty css               */import{P as re}from"./index.8d0858e7.js";import{u as ne,B as le}from"./useTable.a143d40c.js";import"./TableAction.edf9a202.js";import{u as ue,B as de}from"./index.c8f8ec06.js";import{n as me,a as pe,q as ce,r as fe}from"./homePage.5b38c453.js";import{p as ke}from"./Parameters.de3ed96c.js";import{u as he}from"./useBatchDelete.9dc1ae07.js";/* empty css               */import"./onMountedOrActivated.0d13b2a6.js";import"./useWindowSizeFn.3e5b045d.js";import"./useContentViewHeight.9302814f.js";import"./useForm.98d7b8ca.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";/* empty css                *//* empty css                */import"./uuid.2429c801.js";/* empty css                */import"./useModalContext.52c86736.js";import"./download.66a6d137.js";import"./index.504b494d.js";import"./icon-remark.1929ee0a.js";import"./useSortable.79752a2a.js";/* empty css                */import"./index.866ec2c8.js";import"./modal-error.7cada6d5.js";function ye(){return(()=>{const r=[];for(let t=0;t<40;t++)r.push({id:`${t}`,mainProject:"John Brown",subProject:`1${t}`,type:`${t+10}`,address:"New York No. 1 Lake ParkNew York No. 1 Lake Park",creator:new Date().toLocaleString(),createTime:"new Date().toLocaleString()",dataType:"new Date().toLocaleString()"});return r})()}const be=["onClick"],ge={style:{display:"flex",justifyContent:"center",alignItems:"center"}},Ce=W({__name:"index",setup(r){const{t}=J(),{hasPermission:o}=Q(),g=K(),C=new Date,x=new Date;C.setMonth(C.getMonth()-1),x.setMonth(x.getMonth()+1);const D=z(),p=z(),u=X.RangePicker,[_]=ue(),[O,{setProps:F,reload:I}]=ne({columns:[{title:t("moa.ard.serial"),dataIndex:"id",width:150,sorter:!0},{title:t("moa.ard.taskName"),dataIndex:"taskName",width:130,align:"left",slots:{customRender:"taskName"}},{title:t("moa.ard.analyseType"),dataIndex:"typea",filters:D,width:150},{title:t("moa.ard.status"),width:100,dataIndex:"statusa",filters:p,slots:{customRender:"statusa"}},{title:t("moa.ard.createAhtuor"),width:100,dataIndex:"nickname"},{title:t("moa.ard.updateTime"),dataIndex:"updateTime",width:200,sorter:!0}],api:n=>c(this,null,function*(){const e=yield me();return D.value=e,D.value.forEach((l,T)=>{l.text=l.technologicalProcessName,l.value=l.code,l.key=T}),pe(n)}),afterFetch:n=>n,useSearchForm:!0,searchInfo:{},formConfig:{labelWidth:0,showActionButtonGroup:!1,schemas:[{field:"keyword",component:"Input",label:"",slot:"input",colProps:{style:{width:"300px"}}},{field:"times",component:"RangePicker",label:" ",slot:"createTime",labelWidth:60,colProps:{style:{width:"300px"}},componentProps:{format:"YYYY-MM-DD ",placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],showTime:{format:"HH:mm:ss"}}}]},dataSource:ye(),bordered:!0,clickToRowSelect:!1,isTreeTable:!1,striped:!0,showTableSetting:!1,showIndexColumn:!1,canResize:!0,actionColumn:{width:300,title:t("moa.ard.operation"),slots:{customRender:"action"},fixed:"right"}}),B=(n,e="\u67E5\u770B")=>c(this,null,function*(){e=="\u67E5\u770B"?(g.push({path:`/moa/ard/RecordDetails/${n.id}/view`}),console.log(" ",e)):e=="\u7F16\u8F91"&&g.push({path:`/moa/ard/RecordDetails/${n.id}/edit`})}),$=n=>c(this,null,function*(){g.push({path:`/moa/ard/CopyData/${n.id}`})}),q=n=>c(this,null,function*(){const e=M({},n);(yield ke({id:e.id,taskName:e.taskName,type:e.type,fromitemData:e.fromitemData,subData:e.subData,status:e.status,breaks:e.breaks,fileGrouping:e.fileGrouping,fileComparison:e.fileComparison,referenceDatabase:e.referenceDatabase,fileNameArr:e.fileNameArr,fileNameArrs:e.fileNameArrs,sequencingType:e.sequencingType,sysOssId:e.sysOssId,multiomicsManagementId:e.multiomicsManagementId,reback2:e.reback2,reback3:e.reback3,sample:e.sample,parameter:e.parameter,piplineID:e.piplineID,fileIdContrastArr:e.fileIdContrastArr,fileIdList:e.fileIdList})).msg&&(ie.success("\u91CD\u65B0\u63D0\u4EA4\u6210\u529F"),setTimeout(()=>{I()},500))}),{hasBatchDelete:Y,handleDeleteOrBatchDelete:R,selectionOptions:U}=he(fe,I,F);Z(()=>{F(U)});const S=()=>c(this,null,function*(){I()});return ee(()=>c(this,null,function*(){const n=yield ce();p.value=n.filter(e=>e&&e.id),p.value.forEach((e,l)=>{e.text=e.name,e.value=e.code,e.key=l})})),(n,e)=>{const l=N("CustomButton"),T=N("a-tooltip"),v=N("a-button");return f(),te("div",null,[m(s(re),{contentFullHeight:!0},{default:i(()=>[m(s(le),{onRegister:s(O)},{"form-input":i(({model:a,field:w})=>[m(s(ae),{allowClear:"",value:a[w],"onUpdate:value":h=>a[w]=h,onPressEnter:e[0]||(e[0]=()=>{S()}),onChange:e[1]||(e[1]=({type:h})=>{h=="click"&&S()}),placeholder:s(t)("moa.ard.inputSearch")},{prefix:i(()=>[m(s(se))]),_:2},1032,["value","onUpdate:value","placeholder"])]),"form-createTime":i(({model:a,field:w})=>[m(s(u),{value:a[w],"onUpdate:value":h=>a[w]=h,onChange:e[2]||(e[2]=h=>s(I)()),separator:"-"},{suffixIcon:i(()=>[m(s(oe))]),_:2},1032,["value","onUpdate:value"])]),tableTitle:i(()=>[s(o)(["moa:res:del"])?(f(),y(l,{key:0,size:"middle",shape:"round",disabled:s(Y),style:{background:"#fff",color:"#202020",border:"1px solid #666666",margin:"0px 0px",borderRadius:"4px"},onClick:e[3]||(e[3]=()=>{s(R)(null)})},{default:i(()=>[k(d(s(t)("moa.ard.deleteAll")),1)]),_:1},8,["disabled"])):b("v-if",!0)]),taskName:i(({record:a})=>[P("span",{style:L([{cursor:"pointer"},{color:"#2f54eb"}]),onClick:()=>{B(a)}},d(a.taskName),9,be)]),statusa:i(({record:a})=>[P("div",ge,[m(T,{placement:"right"},{title:i(()=>[k(d(a.breaks?a.breaks:"\u6682\u65E0\u5907\u6CE8"),1)]),default:i(()=>[P("div",{style:L({width:"100px",height:"25px",lineHeight:"25px",backgroundColor:a.statusa=="\u5206\u6790\u4E2D"?"#e6dce4":a.statusa=="\u5931\u8D25"?"#ffe7eb":a.statusa=="\u6392\u961F"?"#41577c":a.statusa=="\u6210\u529F"?"#e4f2f2":"#3d3b3b",color:a.statusa=="\u5206\u6790\u4E2D"?"#de8b75":a.statusa=="\u5931\u8D25"?"#d63b3e":a.statusa=="\u6392\u961F"?"#8dbcff":a.statusa=="\u6210\u529F"?"#50ccac":"#b3b4b8"})},d(a.statusa?a.statusa:"\u72B6\u6001\u672A\u5B58\u5728"),5)]),_:2},1024)])]),action:i(({record:a})=>[s(o)(["moa:res:view"])?(f(),y(v,{key:0,type:"link",onClick:()=>{B(a)},size:"small"},{default:i(()=>[k(d(s(t)("moa.ard.lookto")),1)]),_:2},1032,["onClick"])):b("v-if",!0),s(o)(["moa:res:del"])?(f(),y(v,{key:1,type:"link",onClick:()=>{s(R)(a)},size:"small"},{default:i(()=>[k(d(s(t)("moa.ard.delete")),1)]),_:2},1032,["onClick"])):b("v-if",!0),s(o)(["moa:res:clone"])?(f(),y(v,{key:2,type:"link",onClick:()=>{$(a)},size:"small"},{default:i(()=>[k(d(s(t)("moa.ard.clone")),1)]),_:2},1032,["onClick"])):b("v-if",!0),s(o)(["moa:res:edit"])?(f(),y(v,{key:3,type:"link",disabled:a.statusa!=="\u5931\u8D25",onClick:()=>{B(a,"\u7F16\u8F91")},size:"small"},{default:i(()=>[k(d(s(t)("moa.ard.redact")),1)]),_:2},1032,["disabled","onClick"])):b("v-if",!0),s(o)(["moa:res:replat"])?(f(),y(v,{key:4,type:"link",disabled:a.statusa!=="\u5931\u8D25",onClick:()=>{q(a)},size:"small"},{default:i(()=>[k(d(s(t)("moa.ard.againSubmit")),1)]),_:2},1032,["disabled","onClick"])):b("v-if",!0)]),_:1},8,["onRegister"]),m(s(de),{onRegister:s(_)},null,8,["onRegister"])]),_:1})])}}});var at=V(Ce,[["__scopeId","data-v-899db104"]]);export{at as default};
