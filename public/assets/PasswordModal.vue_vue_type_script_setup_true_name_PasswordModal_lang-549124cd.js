import{u as p,B as u}from"./index-b6b4562f.js";import{u as f,a as _}from"./useForm-f3f06b26.js";import{p as g}from"./data-f7beb1b7.js";import{b as w}from"./profile-eb5540aa.js";import{a as o,H as h,o as P,c as M,w as B,e as b,u as e,ag as C}from"./index-4a8cc517.js";const R=o({name:"PasswordModal"}),O=o({...R,emits:["success","register"],setup(k,{emit:t}){const r=h("修改密码"),[n,{resetFields:i,validate:l}]=f({labelWidth:120,baseColProps:{span:24},schemas:g,showActionButtonGroup:!1,actionColOptions:{span:23}}),[c,{setModalProps:a,closeModal:d}]=p(()=>{i(),a({confirmLoading:!1})});async function m(){try{const s=await l();await w(s.oldPassword,s.newPassword),a({confirmLoading:!0}),d(),t("success")}finally{a({confirmLoading:!1})}}return(s,v)=>(P(),M(e(u),C(s.$attrs,{onRegister:e(c),title:r.value,onOk:m}),{default:B(()=>[b(e(_),{onRegister:e(n)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{O as _};
