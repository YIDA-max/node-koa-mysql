import{d as f}from"./draggable.354c5b1e.js";import{a as g,b as p,r as c,l as m,ay as _,q as w,aG as b,o as y,c as M,e as d,aL as v}from"./index.10ef4608.js";const $=p({name:"ColorPanel",props:{value:{type:Object,required:!0},height:{type:Number,default:150},width:{type:Number,default:210}},emits:["update:value"],setup(e){const a=c(null),i=c(0),s=c(0),h=m(()=>`hsl(${e.value.get("h")}, 100%, 50%)`);function r(){const t=e.value.get("s"),l=e.value.get("v"),{clientWidth:o,clientHeight:n}=a.value;i.value=t*o/100,s.value=(100-l)*n/100}function u(t){let l=a.value.getBoundingClientRect(),o=t.clientX-l.left,n=t.clientY-l.top;o=Math.max(0,o),o=Math.min(o,l.width),n=Math.max(0,n),n=Math.min(n,l.height),i.value=o,s.value=s,e.value.set("s",o/l.width*100),e.value.set("v",100-n/l.height*100)}return _([()=>e.value.get("h"),()=>e.value.get("v")],()=>r()),w(()=>{b(()=>{f(a.value,{drag:t=>{u(t)},end:t=>{u(t)}}),r()})}),{colorPanelRef:a,background:h,onMousedown:u,left:i,top:s}}}),k=d("div",{class:"color-panel-white"},null,-1),C=d("div",{class:"color-panel-black"},null,-1),P=d("div",null,null,-1),x=[P];function B(e,a,i,s,h,r){return y(),M("div",{class:"color-panel",ref:"colorPanelRef",style:v({backgroundColor:e.background,width:`${e.width}px`,height:`${e.height}px`}),onMousedown:a[0]||(a[0]=(...u)=>e.onMousedown&&e.onMousedown(...u))},[k,C,d("div",{style:v({left:`${e.left}px`,top:`${e.top}px`}),class:"color-slider"},x,4)],36)}var q=g($,[["render",B]]);export{q as default};
