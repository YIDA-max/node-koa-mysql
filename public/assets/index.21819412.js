var O=(T,r,i)=>new Promise((b,d)=>{var C=l=>{try{k(i.next(l))}catch(m){d(m)}},w=l=>{try{k(i.throw(l))}catch(m){d(m)}},k=l=>l.done?b(l.value):Promise.resolve(l.value).then(C,w);k((i=i.apply(T,r)).next())});import A from"./index.c5e5646a.js";import{P as N}from"./index.8d0858e7.js";import{a as V,b as F,u as U,cJ as q,r as B,ch as W,aG as j,q as z,x as I,o as y,c as G,i as n,A as a,j as e,cv as L,cl as $,I as H,d5 as J,d6 as K,U as v,D as h,t as g,f as x}from"./index.10ef4608.js";/* empty css               *//* empty css              *//* empty css               */import{h as M}from"./homePage.0537fe58.js";import{u as Q,B as X}from"./useTable.a143d40c.js";import"./TableAction.edf9a202.js";import{u as Y}from"./useBatchDelete.9dc1ae07.js";import{u as Z}from"./index.c8f8ec06.js";import{q as ee,s as te,a as oe,R as ae}from"./addOrEditOrViewModal.f151b601.js";import"./CustomConfirmModal.23056e7c.js";import"./modal-error.7cada6d5.js";import"./upData.4bc4d03e.js";/* empty css                *//* empty css                */import"./platfrom.439ed019.js";import"./upData.88016457.js";import"./download.66a6d137.js";import"./uploadIng.d99a91d8.js";import"./uploadError.40c8b494.js";/* empty css               */import"./onMountedOrActivated.0d13b2a6.js";import"./useWindowSizeFn.3e5b045d.js";import"./useContentViewHeight.9302814f.js";import"./useForm.98d7b8ca.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";import"./uuid.2429c801.js";/* empty css                */import"./useModalContext.52c86736.js";import"./index.504b494d.js";import"./icon-remark.1929ee0a.js";import"./useSortable.79752a2a.js";/* empty css                */import"./index.866ec2c8.js";const re=F({__name:"index",setup(T){const{t:r}=U(),{hasPermission:i}=q();let b=B([]);const d=B(),C=B(),w=W.RangePicker,[k,{openModal:l}]=Z(),m=(u,o={})=>{l(!0,{statusText:u,record:o})},[E,{setProps:P,reload:c}]=Q({columns:[{title:r("cm.type.serial"),dataIndex:"id",fixed:"left",width:50,sorter:!0},{title:r("cm.type.type"),dataIndex:"name",width:150,filters:d},{title:r("cm.type.createAuthor"),width:150,dataIndex:"nickname"},{title:r("cm.type.updateTime"),width:150,dataIndex:"updateTime",sorter:!0}],api:ee,afterFetch:u=>u,useSearchForm:!0,searchInfo:{},formConfig:{labelWidth:120,showActionButtonGroup:!1,schemas:[{field:"keyword",component:"Input",label:"",slot:"input",colProps:{style:{width:"300px"}}},{field:"times",component:"RangePicker",label:" ",labelWidth:60,colProps:{style:{width:"300px"}},slot:"createTime"}]},bordered:!0,clickToRowSelect:!1,isTreeTable:!1,striped:!0,showTableSetting:!1,showIndexColumn:!1,canResize:!0,actionColumn:{width:200,title:r("cm.type.operation"),slots:{customRender:"action"},fixed:"right"}}),{hasBatchDelete:D,handleDeleteOrBatchDelete:R,selectionOptions:S}=Y(ae,c,P);return j(()=>{P(S)}),z(()=>O(this,null,function*(){b.value=yield te({meaning:"multiomics_Management_type"}),b.value.forEach((t,s)=>{t.label=t.createBy,t.value=t.createBy,t.key=s});const u=yield M({meaning:"multiomics_Management_type"});C.value=u,C.value.forEach((t,s)=>{t.text=t.name,t.value=t.code,t.key=s});const o=yield M({meaning:"multiomics_Management_type"});d.value=o,d.value.forEach((t,s)=>{t.text=t.name,t.value=t.code,t.key=s})})),(u,o)=>{const t=I("CustomButton"),s=I("a-button");return y(),G("div",null,[n(e(N),{contentFullHeight:!0},{default:a(()=>[n(e(L),null,{default:a(()=>[n(e($),{span:24},{default:a(()=>[n(e(X),{onRegister:e(E)},{"form-input":a(({model:p,field:_})=>[n(e(H),{value:p[_],"onUpdate:value":f=>p[_]=f,allowClear:"",onPressEnter:o[0]||(o[0]=()=>{e(c)()}),onChange:o[1]||(o[1]=({type:f})=>{f=="click"&&e(c)()}),placeholder:e(r)("cm.type.inputSearch")},{prefix:a(()=>[n(e(J))]),_:2},1032,["value","onUpdate:value","placeholder"])]),"form-createTime":a(({model:p,field:_})=>[n(e(w),{value:p[_],"onUpdate:value":f=>p[_]=f,onChange:o[2]||(o[2]=f=>e(c)()),separator:"-"},{suffixIcon:a(()=>[n(e(K))]),_:2},1032,["value","onUpdate:value"])]),tableTitle:a(()=>[e(i)(["cm:type:add"])?(y(),v(t,{key:0,btnStyle:{backgroundColor:"#2F54EB"},onClick:o[3]||(o[3]=()=>{m("add")})},{default:a(()=>[h(g(e(r)("cm.type.add")),1)]),_:1})):x("v-if",!0),e(i)(["cm:type:del"])?(y(),v(t,{key:1,size:"middle",shape:"round",disabled:e(D),onClick:o[4]||(o[4]=()=>{e(R)(null)}),style:{background:"#fff",color:"#202020",border:"1px solid #666666",borderRadius:"4px",margin:"0px 0px 0px 10px"}},{default:a(()=>[h(g(e(r)("mom.deletes")),1)]),_:1},8,["disabled"])):x("v-if",!0),n(A,{callback:()=>{e(c)()}},null,8,["callback"])]),action:a(({record:p})=>[e(i)(["cm:main:view"])?(y(),v(s,{key:0,type:"link",onClick:()=>{m("view",p)}},{default:a(()=>[h(g(e(r)("cm.masterProject.lookto")),1)]),_:2},1032,["onClick"])):x("v-if",!0),e(i)(["cm:type:edit"])?(y(),v(s,{key:1,type:"link",onClick:()=>{m("edit",p)}},{default:a(()=>[h(g(e(r)("cm.type.edit")),1)]),_:2},1032,["onClick"])):x("v-if",!0),e(i)(["cm:type:del"])?(y(),v(s,{key:2,type:"link",onClick:()=>{e(R)(p)}},{default:a(()=>[h(g(e(r)("cm.type.delete")),1)]),_:2},1032,["onClick"])):x("v-if",!0)]),_:1},8,["onRegister"])]),_:1})]),_:1}),n(oe,{onRegister:e(k),success:()=>{e(c)()}},null,8,["onRegister","success"])]),_:1})])}}});var He=V(re,[["__scopeId","data-v-eb8a1fb0"]]);export{He as default};
