var E=Object.defineProperty,D=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var C=(e,t,o)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,F=(e,t)=>{for(var o in t||(t={}))I.call(t,o)&&C(e,o,t[o]);if(g)for(var o of g(t))T.call(t,o)&&C(e,o,t[o]);return e},h=(e,t)=>D(e,B(t));var x=(e,t,o)=>new Promise((p,l)=>{var m=a=>{try{s(o.next(a))}catch(u){l(u)}},c=a=>{try{s(o.throw(a))}catch(u){l(u)}},s=a=>a.done?p(a.value):Promise.resolve(a.value).then(m,c);s((o=o.apply(e,t)).next())});import{u as y,B as M}from"./useTable.a143d40c.js";import"./TableAction.edf9a202.js";import{P as S}from"./index.8d0858e7.js";import{u as k}from"./index.c8f8ec06.js";import{E as w}from"./index.89ad81d5.js";import{cy as A,b as P,x as v,o as j,c as R,i,A as n,f as _,j as r,D as b,G as V}from"./index.10ef4608.js";import{j as L}from"./Export2Excel.92374bf3.js";import"./useForm.98d7b8ca.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";/* empty css                *//* empty css                */import"./uuid.2429c801.js";/* empty css                */import"./useModalContext.52c86736.js";import"./download.66a6d137.js";import"./index.504b494d.js";import"./icon-remark.1929ee0a.js";import"./useWindowSizeFn.3e5b045d.js";import"./onMountedOrActivated.0d13b2a6.js";import"./useSortable.79752a2a.js";/* empty css                *//* empty css               */import"./useContentViewHeight.9302814f.js";import"./xlsx.bb920e2b.js";function N(e,t="modal"){return A.get({url:"/log/page",params:h(F({},e),{isAuth:!0})},{errorMessageMode:t})}function H(e="message"){return A.delete({url:"/log/clean",params:{isAuth:!0}},{errorMessageMode:e,joinParamsToUrl:!0})}const O=[{title:"\u7F16\u53F7",dataIndex:"id",ifShow:!1},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u52A8\u4F5C",dataIndex:"action"},{title:"\u65B9\u5F0F",dataIndex:"type"},{title:"\u6D4F\u89C8\u5668",dataIndex:"browser"},{title:"\u7CFB\u7EDF",dataIndex:"system"},{title:"\u64CD\u4F5C\u5730",dataIndex:"address"},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"operator"},{title:"\u72B6\u6001",dataIndex:"state",format:e=>e?"\u6210\u529F":"\u5931\u8D25"},{title:"\u64CD\u4F5C\u65F6\u95F4",dataIndex:"updateTime"}],W=[{field:"title",label:"\u6807\u9898",component:"Input",colProps:{span:8}},{field:"status",label:"\u72B6\u6001",component:"Select",defaultValue:"",componentProps:{options:[{label:"\u5168\u90E8",value:""},{label:"\u6210\u529F",value:"true"},{label:"\u5931\u8D25",value:"false"}]},colProps:{span:8}}],G={class:"log-auth"},U=b(" \u5907\u4EFD "),X=b(" \u6E05\u7A7A "),Be=P({__name:"index",setup(e){const{createConfirm:t}=V(),[o,{getDataSource:p,reload:l}]=y({api:N,columns:O,useSearchForm:!0,formConfig:{labelWidth:120,schemas:W},ellipsis:!0,showTableSetting:!1,rowSelection:{type:"checkbox"}}),[m,{openModal:c}]=k();function s({filename:u,bookType:d}){L({data:p(),filename:u,write2excelOpts:{bookType:d}})}const a=()=>{t({iconType:"error",title:"\u63D0\u793A",content:"\u60A8\u786E\u5B9A\u8981\u6E05\u7A7A\u6570\u636E\u5417\uFF1F",onOk:()=>x(this,null,function*(){try{(yield H()).code===200&&l()}catch(u){console.log(u)}})})};return(u,d)=>{const f=v("a-button");return j(),R("div",G,[i(r(S),null,{default:n(()=>[_(" \u8868\u683C\u6E32\u67D3 "),i(r(M),{onRegister:r(o)},{tableTitle:n(()=>[i(f,{type:"primary",onClick:r(c),class:"mr-4"},{default:n(()=>[U]),_:1},8,["onClick"]),i(f,{onClick:a},{default:n(()=>[X]),_:1})]),_:1},8,["onRegister"]),_(" \u5BFC\u51FA\u7EC4\u4EF6 "),i(r(w),{onRegister:r(m),onSuccess:s},null,8,["onRegister"])]),_:1})])}}});export{Be as default};
