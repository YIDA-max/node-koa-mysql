import{_ as d,p as f}from"./FileList.vue_vue_type_style_index_0_lang.9d914221.js";import{B as v,b as _}from"./index.c8f8ec06.js";import{d as w}from"./download.66a6d137.js";import{e as C,f as g}from"./data.4533b7dc.js";import{a as h,b as B,u as M,r as y,ay as P,x as c,o as $,U as L,A as R,i as U,B as k,c4 as x}from"./index.10ef4608.js";import"./useModalContext.52c86736.js";import"./useAttrs.1d381a3e.js";import"./useWindowSizeFn.3e5b045d.js";/* empty css                *//* empty css               */import"./TableAction.edf9a202.js";/* empty css               */import"./ThumbUrl.8b660da0.js";/* empty css                */const A=B({components:{BasicModal:v,FileList:d},props:f,emits:["list-change","register","delete"],setup(o,{emit:r}){const[l,{closeModal:p}]=_(),{t:m}=M(),a=y([]);P(()=>o.value,t=>{x(t)||(t=[]),a.value=t.filter(e=>!!e).map(e=>({url:e,type:e.split(".").pop()||"",name:e.split("/").pop()||""}))},{immediate:!0});function s(t){const e=a.value.findIndex(i=>i.url===t.url);if(e!==-1){const i=a.value.splice(e,1);r("delete",i[0].url),r("list-change",a.value.map(u=>u.url))}}function n(t){const{url:e=""}=t;w({url:e})}return{t:m,register:l,closeModal:p,fileListRef:a,columns:C(),actionColumn:g({handleRemove:s,handleDownload:n})}}});function F(o,r,l,p,m,a){const s=c("FileList"),n=c("BasicModal");return $(),L(n,k({width:"800px",title:o.t("component.upload.preview"),wrapClassName:"upload-preview-modal"},o.$attrs,{onRegister:o.register,showOkBtn:!1}),{default:R(()=>[U(s,{dataSource:o.fileListRef,columns:o.columns,actionColumn:o.actionColumn},null,8,["dataSource","columns","actionColumn"])]),_:1},16,["title","onRegister"])}var K=h(A,[["render",F]]);export{K as default};
