var b=(g,p,s)=>new Promise((x,i)=>{var d=f=>{try{w(s.next(f))}catch(h){i(h)}},v=f=>{try{w(s.throw(f))}catch(h){i(h)}},w=f=>f.done?x(f.value):Promise.resolve(f.value).then(d,v);w((s=s.apply(g,p)).next())});import{u as T,B as j}from"./useForm.98d7b8ca.js";import{u as k,bm as y,b as q,r as L,s as E,l as R,ay as $,q as D,x as U,o as G,c as H,i as r,A as n,j as u,X as P,e as _,aL as X,D as C,t as A,cl as W,ab as Y,cv as J}from"./index.10ef4608.js";/* empty css               */import{u as K}from"./casual.c3003c80.js";import V from"./V3ColorPicker.3aeb3ea0.js";/* empty css              *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";/* empty css                *//* empty css                */import"./uuid.2429c801.js";import"./index.c8f8ec06.js";import"./useWindowSizeFn.3e5b045d.js";import"./useModalContext.52c86736.js";import"./TableAction.edf9a202.js";/* empty css                */import"./download.66a6d137.js";import"./index.504b494d.js";import"./ColorPicker.3725ed80.js";import"./ColorPanel.209bf7d4.js";import"./draggable.354c5b1e.js";import"./ColorPreview.6aea0981.js";import"./ColorHue.94d928ef.js";import"./ColorAlpha.071f638e.js";import"./ColorValue.246a701d.js";import"./ColorList.125944a3.js";const{t:o}=k(),Q=()=>{const g=[{field:"title",component:"Input",label:o("AllMessage.visual.two.PreferencesList.title"),colProps:{span:7,offset:0}},{field:"height",component:"Input",label:o("AllMessage.visual.two.PreferencesList.height"),rules:[{validator:(p,s)=>b(void 0,null,function*(){return isNaN(s)&&s?Promise.reject(o("AllMessage.visual.two.PreferencesList.number")):!0}),validateTrigger:"blur"}]},{field:"width",component:"Input",label:o("AllMessage.visual.two.PreferencesList.width"),rules:[{validator:(p,s)=>b(void 0,null,function*(){return isNaN(s)&&s?Promise.reject(o("AllMessage.visual.two.PreferencesList.number")):!0}),validateTrigger:"blur"}]},{field:"size_col",component:"Select",label:o("AllMessage.visual.two.PreferencesList.size_col"),slot:"size_col",rules:[{required:!0,message:o("AllMessage.visual.two.PreferencesList.data")}],colProps:{span:7,offset:0}},{field:"value_col",component:"Select",label:o("AllMessage.visual.two.PreferencesList.value_col"),slot:"value_col",rules:[{required:!0,message:o("AllMessage.visual.two.PreferencesList.data")}]},{field:"x_axis",component:"Select",label:o("AllMessage.visual.two.PreferencesList.x_axis"),slot:"x_axis",rules:[{required:!0,message:o("AllMessage.visual.two.PreferencesList.data")}]},{field:"y_axis",component:"Select",label:o("AllMessage.visual.two.PreferencesList.y_axis"),slot:"y_axis",rules:[{required:!0,message:o("AllMessage.visual.two.PreferencesList.data")}],colProps:{span:7,offset:0}},{field:"x_title",component:"Input",label:o("AllMessage.visual.two.PreferencesList.x_title")},{field:"y_title",component:"Input",label:o("AllMessage.visual.two.PreferencesList.y_title")},{field:"color",component:"Select",label:y("div",{style:"position: relative;top: 15px;"},[y("div",{},o("AllMessage.visual.two.PreferencesList.colorOne")),y("div",null,o("AllMessage.visual.two.PreferencesList.lowOrhigt"))]),slot:"color",colProps:{span:7,offset:1}}];return g.forEach(p=>{p.component=="Select"&&(p.componentProps||(p.componentProps={}),p.componentProps.size="large")}),g},Z={style:{minHeight:"400px"}},ee={style:{position:"relative",top:"0px",margin:"0px 0px 0px 0px"}},te=_("span",{style:{width:"10px",height:"10px",backgroundColor:"#2566cb ",display:"inline-block",margin:"0px 2px 0px 0px"}},null,-1),le=_("span",{style:{width:"10px",height:"10px",backgroundColor:"#ff4d1f",display:"inline-block",margin:"0px 2px 0px 0px"}},null,-1),oe={style:{position:"relative",top:"0px",margin:"0px 0px 0px 0px"}},se={style:{position:"relative",top:"5px"}},Ie=q({__name:"EnrichmentBubbleDiagram",props:{toNextFn:Function},setup(g,{expose:p}){const{t:s}=k(),x=K(),i=L(),d=L("1"),v=L(["#2566cb","#ff4d2f"]),w=E({display:"inline-block",height:"40px",lineHeight:"40px"}),f=R(()=>{const a=`%23${v.value[0].slice(1)}`;return`high_color=${`%23${v.value[1].slice(1)}`}&low_color=${a}`}),[h,{validate:N,setFieldsValue:M,resetFields:O}]=T({labelWidth:110,schemas:Q(),baseColProps:{span:7,offset:1},actionColOptions:{span:18,offset:4},showActionButtonGroup:!1}),B=()=>b(this,null,function*(){return{validate:yield N(),colorArr:d.value=="1"?"high_color=%23ff4d1f&low_color=%232566cb":f.value}}),F=a=>{M({x_title:a})},I=a=>{M({y_title:a})};return $(()=>x.useVisualConstructionTwohander,()=>{O(),i.value=x.useVisualConstructionTwohander,i.value.forEach(a=>{a.label=a.title,a.value=a.title}),console.log(" ",i.value)}),D(()=>{const a=setInterval(()=>{x.useVisualConstructionTwohander&&(i.value=x.useVisualConstructionTwohander,i.value.forEach(e=>{e.label=e.title,e.value=e.title}),clearInterval(a))},1e3)}),p({returnedValue:B}),(a,e)=>{const S=U("a-radio"),z=U("a-radio-group");return G(),H("div",Z,[r(u(j),{onRegister:u(h)},{size_col:n(({model:t,field:c})=>[r(u(P),{size:"large",options:i.value,value:t[c],"onUpdate:value":l=>t[c]=l,allowClear:"",showSearch:"","filter-option":(l,m)=>m.label.toLowerCase().indexOf(l.toLowerCase())>=0},null,8,["options","value","onUpdate:value","filter-option"])]),value_col:n(({model:t,field:c})=>[r(u(P),{size:"large",options:i.value,value:t[c],"onUpdate:value":l=>t[c]=l,allowClear:"",showSearch:"","filter-option":(l,m)=>m.label.toLowerCase().indexOf(l.toLowerCase())>=0},null,8,["options","value","onUpdate:value","filter-option"])]),x_axis:n(({model:t,field:c})=>[r(u(P),{size:"large",options:i.value,value:t[c],"onUpdate:value":l=>t[c]=l,allowClear:"",showSearch:"",onChange:e[0]||(e[0]=l=>{F(l)}),"filter-option":(l,m)=>m.label.toLowerCase().indexOf(l.toLowerCase())>=0},null,8,["options","value","onUpdate:value","filter-option"])]),y_axis:n(({model:t,field:c})=>[r(u(P),{size:"large",options:i.value,value:t[c],"onUpdate:value":l=>t[c]=l,allowClear:"",showSearch:"",onChange:e[1]||(e[1]=l=>{I(l)}),"filter-option":(l,m)=>m.label.toLowerCase().indexOf(l.toLowerCase())>=0},null,8,["options","value","onUpdate:value","filter-option"])]),color:n(()=>[_("div",ee,[r(z,{value:d.value,"onUpdate:value":e[2]||(e[2]=t=>d.value=t),name:"radioGroup",style:{display:"flex"}},{default:n(()=>[r(S,{style:X(w),value:"1"},{default:n(()=>[C(A(u(s)("AllMessage.visual.two.PreferencesList.default"))+": ",1),te,le]),_:1},8,["style"])]),_:1},8,["value"])]),_("div",oe,[r(z,{value:d.value,"onUpdate:value":e[3]||(e[3]=t=>d.value=t),name:"radioGroup"},{default:n(()=>[r(S,{value:"2"},{default:n(()=>[C(A(u(s)("AllMessage.visual.two.PreferencesList.custom"))+":",1)]),_:1})]),_:1},8,["value"]),_("span",se,[r(V,{value:v.value[0],"onUpdate:value":e[4]||(e[4]=t=>v.value[0]=t),size:"mini",theme:"light",width:400},null,8,["value"]),r(V,{value:v.value[1],"onUpdate:value":e[5]||(e[5]=t=>v.value[1]=t),size:"mini",theme:"light",width:400},null,8,["value"])])])]),_:1},8,["onRegister"]),r(u(J),null,{default:n(()=>[r(u(W),{span:4,offset:11},{default:n(()=>[r(u(Y),{size:"middle",style:{background:"#3152ed",color:"#ffffff",margin:"0px 0px",borderRadius:"4px"},onClick:e[6]||(e[6]=()=>{g.toNextFn()})},{default:n(()=>[C(A(u(s)("AllMessage.visual.two.PreferencesList.confirm")),1)]),_:1})]),_:1})]),_:1})])}}});export{Ie as default};
