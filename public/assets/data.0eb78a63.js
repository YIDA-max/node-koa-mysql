import{u as m,i as l,c7 as p,c8 as i}from"./index.10ef4608.js";/* empty css                *//* empty css               */import{T as c}from"./TableAction.edf9a202.js";import s from"./ThumbUrl.d4110d50.js";var a=(e=>(e.SUCCESS="success",e.ERROR="error",e.UPLOADING="uploading",e))(a||{});function T(e,n){const r=n.join("|");return new RegExp("\\.("+r+")$","i").test(e.name)}function U(e){return d(e.name)}function d(e){return/\.(jpg|jpeg|png|gif)$/i.test(e)}function P(e){return new Promise((n,r)=>{const o=new FileReader;o.readAsDataURL(e),o.onload=()=>n({result:o.result,file:e}),o.onerror=u=>r(u)})}const{t}=m();function f(){return[{dataIndex:"thumbUrl",title:t("component.upload.legend"),width:100,customRender:({record:e})=>{const{thumbUrl:n}=e||{};return n&&l(s,{fileUrl:n},null)}},{dataIndex:"name",title:t("component.upload.fileName"),align:"left",customRender:({text:e,record:n})=>{const{percent:r,status:o}=n||{};let u="normal";return o===a.ERROR?u="exception":o===a.UPLOADING?u="active":o===a.SUCCESS&&(u="success"),l("span",null,[l("p",{class:"truncate mb-1",title:e},[e]),l(p,{percent:r,size:"small",status:u},null)])}},{dataIndex:"size",title:t("component.upload.fileSize"),width:100,customRender:({text:e=0})=>e&&(e/1024).toFixed(2)+"KB"},{dataIndex:"status",title:t("component.upload.fileStatue"),width:100,customRender:({text:e})=>e===a.SUCCESS?l(i,{color:"green"},{default:()=>t("component.upload.uploadSuccess")}):e===a.ERROR?l(i,{color:"red"},{default:()=>t("component.upload.uploadError")}):e===a.UPLOADING?l(i,{color:"blue"},{default:()=>t("component.upload.uploading")}):e}]}function g(e){return{width:120,title:t("component.upload.operating"),dataIndex:"action",fixed:!1,customRender:({record:n})=>{const r=[{label:t("component.upload.del"),color:"error",onClick:e.bind(null,n)}];return l(c,{actions:r,outside:!0},null)}}}function b(){return[{dataIndex:"url",title:t("component.upload.legend"),width:100,customRender:({record:e})=>{const{url:n}=e||{};return d(n)&&l(s,{fileUrl:n},null)}},{dataIndex:"name",title:t("component.upload.fileName"),align:"left"}]}function C({handleRemove:e,handleDownload:n}){return{width:160,title:t("component.upload.operating"),dataIndex:"action",fixed:!1,customRender:({record:r})=>{const o=[{label:t("component.upload.del"),color:"error",onClick:e.bind(null,r)},{label:t("component.upload.download"),onClick:n.bind(null,r)}];return l(c,{actions:o,outside:!0},null)}}}var x=Object.freeze(Object.defineProperty({__proto__:null,createTableColumns:f,createActionColumn:g,createPreviewColumns:b,createPreviewActionColumn:C},Symbol.toStringTag,{value:"Module"}));export{a as U,g as a,T as b,f as c,U as d,b as e,C as f,P as g,x as h};
