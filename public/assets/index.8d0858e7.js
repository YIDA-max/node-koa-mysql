var te=Object.defineProperty,oe=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var M=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,T=(e,t)=>{for(var n in t||(t={}))ae.call(t,n)&&M(e,n,t[n]);if(j)for(var n of j(t))re.call(t,n)&&M(e,n,t[n]);return e},G=(e,t)=>oe(e,ne(t));var L=(e,t,n)=>new Promise((b,u)=>{var C=r=>{try{l(n.next(r))}catch(h){u(h)}},d=r=>{try{l(n.throw(r))}catch(h){u(h)}},l=r=>r.done?b(r.value):Promise.resolve(r.value).then(C,d);l((n=n.apply(e,t)).next())});import{b as X,w as Z,aq as se,a as O,o as E,c as V,e as z,aJ as v,am as W,aL as Q,r as R,ay as Y,aG as N,j as H,bA as ie,bB as le,bC as ge,bD as ce,bE as fe,ah as p,aF as ue,l as $,bF as U,x as q,U as J,bn as pe,ap as de,A,V as he,W as me,ao as He,D as be,t as Ce,B as Fe,f as K,bG as x}from"./index.10ef4608.js";/* empty css               */import{o as $e}from"./onMountedOrActivated.0d13b2a6.js";import{u as ve}from"./useWindowSizeFn.3e5b045d.js";import{a as ye}from"./useContentViewHeight.9302814f.js";const Pe=X({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=Z("page-footer"),{getCalcContentWidth:t}=se();return{prefixCls:e,getCalcContentWidth:t}}});function _e(e,t,n,b,u,C){return E(),V("div",{class:W(e.prefixCls),style:Q({width:e.getCalcContentWidth})},[z("div",{class:W(`${e.prefixCls}__left`)},[v(e.$slots,"left",{},void 0,!0)],2),v(e.$slots,"default",{},void 0,!0),z("div",{class:W(`${e.prefixCls}__right`)},[v(e.$slots,"right",{},void 0,!0)],2)],6)}var ee=O(Pe,[["render",_e],["__scopeId","data-v-7984b8f2"]]);function Se(e,t,n,b,u=0,C=R(0)){const d=R(null),{footerHeightRef:l}=ye();let r={useLayoutFooter:!0};const h=a=>{r=a};function D(){N(()=>{S()})}function y(a,B="all"){var f,P,F,k;function m(o){return Number(o.replace(/[^\d]/g,""))}let c=0;const s="0px";if(a){const o=getComputedStyle(a),g=m((f=o==null?void 0:o.marginTop)!=null?f:s),i=m((P=o==null?void 0:o.marginBottom)!=null?P:s),w=m((F=o==null?void 0:o.paddingTop)!=null?F:s),I=m((k=o==null?void 0:o.paddingBottom)!=null?k:s);B==="all"?(c+=g,c+=i,c+=w,c+=I):B==="top"?(c+=g,c+=w):(c+=i,c+=I)}return c}function _(a){return a==null?null:a instanceof HTMLDivElement?a:a.$el}function S(){return L(this,null,function*(){var k;if(!e.value)return;yield N();const a=_(H(t));if(!a)return;const{bottomIncludeBody:B}=ie(a);let m=0;n.forEach(o=>{var g,i;m+=(i=(g=_(H(o)))==null?void 0:g.offsetHeight)!=null?i:0});let c=(k=y(a))!=null?k:0;b.forEach(o=>{c+=y(_(H(o)))});let s=0;function f(o,g){if(o&&g){const i=o.parentElement;i&&(ge(g)?i.classList.contains(g)?s+=y(i,"bottom"):(s+=y(i,"bottom"),f(i,g)):ce(g)&&g>0&&(s+=y(i,"bottom"),f(i,--g)))}}le(u)?f(a,H(u)):f(a,u);let P=B-H(l)-H(C)-m-c-s;const F=()=>{var o;(o=r.elements)==null||o.forEach(g=>{var i,w;P+=(w=(i=_(H(g)))==null?void 0:i.offsetHeight)!=null?w:0})};r.useLayoutFooter&&H(l)>0,F(),d.value=P})}return $e(()=>{N(()=>{S()})}),ve(()=>{S()},50,{immediate:!0}),Y(()=>[l.value],()=>{S()},{flush:"post",immediate:!0}),{redoHeight:D,setCompensation:h,contentHeight:d}}const Be=X({name:"PageWrapper",components:{PageFooter:ee,PageHeader:fe},inheritAttrs:!1,props:{title:p.string,dense:p.bool,ghost:p.bool,content:p.string,contentStyle:{type:Object},contentBackground:p.bool,contentFullHeight:p.bool,contentClass:p.string,fixedHeight:p.bool,upwardSpace:p.oneOfType([p.number,p.string]).def(0)},setup(e,{slots:t,attrs:n}){const b=R(null),u=R(null),C=R(null),d=R(null),{prefixCls:l}=Z("page-wrapper");ue(we,$(()=>e.fixedHeight));const r=$(()=>e.contentFullHeight),h=$(()=>e.upwardSpace),{redoHeight:D,setCompensation:y,contentHeight:_}=Se(r,b,[u,d],[C],h);y({useLayoutFooter:!0,elements:[d]});const S=$(()=>{var s;return[l,{[`${l}--dense`]:e.dense},(s=n.class)!=null?s:{}]}),a=$(()=>(t==null?void 0:t.leftFooter)||(t==null?void 0:t.rightFooter)),B=$(()=>Object.keys(U(t,"default","leftFooter","rightFooter","headerContent"))),m=$(()=>{const{contentFullHeight:s,contentStyle:f,fixedHeight:P}=e;if(!s)return T({},f);const F=`${H(_)}px`;return T(G(T({},f),{minHeight:F}),P?{height:F}:{})}),c=$(()=>{const{contentBackground:s,contentClass:f}=e;return[`${l}-content`,f,{[`${l}-content-bg`]:s}]});return Y(()=>[a.value],()=>{D()},{flush:"post",immediate:!0}),{getContentStyle:m,wrapperRef:b,headerRef:u,contentRef:C,footerRef:d,getClass:S,getHeaderSlots:B,prefixCls:l,getShowFooter:a,omit:U,getContentClass:c}}});function Re(e,t,n,b,u,C){const d=q("PageHeader"),l=q("PageFooter");return E(),V("div",{class:W(e.getClass),ref:"wrapperRef"},[e.content||e.$slots.headerContent||e.title||e.getHeaderSlots.length?(E(),J(d,Fe({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),pe({default:A(()=>[e.content?(E(),V(He,{key:0},[be(Ce(e.content),1)],64)):v(e.$slots,"headerContent",{key:1})]),_:2},[de(e.getHeaderSlots,r=>({name:r,fn:A(h=>[v(e.$slots,r,he(me(h||{})))])}))]),1040,["ghost","title"])):K("v-if",!0),z("div",{class:W(["overflow-hidden",e.getContentClass]),style:Q(e.getContentStyle),ref:"contentRef"},[v(e.$slots,"default")],6),e.getShowFooter?(E(),J(l,{key:1,ref:"footerRef"},{left:A(()=>[v(e.$slots,"leftFooter")]),right:A(()=>[v(e.$slots,"rightFooter")]),_:3},512)):K("v-if",!0)],2)}var ke=O(Be,[["render",Re]]);x(ee);const Ve=x(ke),we="PageWrapperFixedHeight";export{Ve as P,we as a};
