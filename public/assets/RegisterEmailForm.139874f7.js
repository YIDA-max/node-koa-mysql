var M=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable;var L=(r,u)=>{var a={};for(var l in r)$.call(r,l)&&u.indexOf(l)<0&&(a[l]=r[l]);if(r!=null&&M)for(var l of M(r))u.indexOf(l)<0&&z.call(r,l)&&(a[l]=r[l]);return a};var b=(r,u,a)=>new Promise((l,_)=>{var F=t=>{try{p(a.next(t))}catch(f){_(f)}},x=t=>{try{p(a.throw(t))}catch(f){_(f)}},p=t=>t.done?l(t.value):Promise.resolve(t.value).then(F,x);p((a=a.apply(r,u)).next())});import{a as O,b as j,u as q,F as h,r as P,s as K,q as W,x as Y,o as H,U as J,A as n,i,j as e,I,V as g,W as w,e as E,f as k,D as R,t as y,Y as D,a0 as Q,a1 as X,G as Z}from"./index.10ef4608.js";/* empty css              *//* empty css               */import{a as ee,v as A,e as te}from"./myMitt.c3f6feaa.js";import{u as oe}from"./useCountDown.23082dea.js";import{u as ae,L as le}from"./useCustomLogin.887e5231.js";import"./index.3b12af83.js";import"./mitt.550594b0.js";const se={class:"content flex"},ie={class:"email"},re={class:"email flex"},ne={class:"code"},de={class:"btn"},ue=j({__name:"RegisterEmailForm",props:{handleBackLogin:{type:Function,default:()=>({})}},setup(r,{expose:u}){const{t:a}=q(),l=h.Item,_=h.useForm,F=P(!1),{createMessage:x}=Z(),{setLoginState:p}=ae(),t=K({username:void 0,state:"\u4E2D\u56FD",email:void 0,verification:void 0,password:void 0,confirmPwd:void 0});P([{value:"86",label:"\u4E2D\u56FD"}]);const f=ee(t),{resetFields:V,validate:c,validateInfos:v}=_(t,f),N=()=>b(this,null,function*(){try{if(!(yield c()))return;F.value=!0;const m=t,{state:d,confirmPwd:s}=m,G=L(m,["state","confirmPwd"]),C=yield Q(G);if(C.code!==200)return!1;x.success({content:a(C.msg),duration:2}),p(le.LOGIN),te.emit("clearLoginForm")}catch(o){}finally{F.value=!1}}),{countDownFn:S,countDown:T,BtnDisabled:B}=oe(A.REGISTEREMAILFORM),U=()=>b(this,null,function*(){try{if(!(yield c("email")))return;S();const o={id:"EMAIL_VERIFICATION",to:t.email},d=yield X(o);if(d.code!==200)return;x.success({content:a(d.msg),duration:2})}catch(m){}finally{}});return W(()=>{localStorage.getItem(A.REGISTEREMAILFORM)&&S()}),u({resetFields:V}),(m,o)=>{const d=Y("CustomButton");return H(),J(e(h),null,{default:n(()=>[i(e(l),g(w(e(v).username)),{default:n(()=>[i(e(I),{value:t.username,"onUpdate:value":o[0]||(o[0]=s=>t.username=s),valueModifiers:{trim:!0},placeholder:e(a)("login.placeAccount"),autocomplete:"off",onBlur:o[1]||(o[1]=s=>e(c)("username",{trigger:"blur"}).catch(()=>{}))},null,8,["value","placeholder"])]),_:1},16),i(e(l),g(w(e(v).email)),{default:n(()=>[E("div",se,[k(` <div class="code">\r
          <Select v-model:value="EmailForm.state" :options="options" />\r
        </div> `),E("div",ie,[i(e(I),{value:t.email,"onUpdate:value":o[2]||(o[2]=s=>t.email=s),valueModifiers:{trim:!0},placeholder:e(a)("login.placeEmail"),autocomplete:"off",onBlur:o[3]||(o[3]=s=>e(c)("email",{trigger:"blur"}).catch(()=>{}))},null,8,["value","placeholder"])])])]),_:1},16),i(e(l),g(w(e(v).verification)),{default:n(()=>[E("div",re,[E("div",ne,[i(e(I),{value:t.verification,"onUpdate:value":o[4]||(o[4]=s=>t.verification=s),valueModifiers:{trim:!0},placeholder:e(a)("login.placeCode"),autocomplete:"off"},null,8,["value","placeholder"])]),E("div",de,[i(d,{btnStyle:{width:"130px",height:"60px",background:"#EDEEF5",borderRadius:"4px",color:"#3287F7",fontSize:"20px"},disabled:e(B),onClick:U},{default:n(()=>[R(y(e(B)?`${e(T)}s`:e(a)("login.getCode")),1)]),_:1},8,["disabled"])])])]),_:1},16),i(e(l),g(w(e(v).password)),{default:n(()=>[i(e(D),{value:t.password,"onUpdate:value":o[5]||(o[5]=s=>t.password=s),valueModifiers:{trim:!0},placeholder:e(a)("login.placePwd"),type:"password",autocomplete:"new-password",onBlur:o[6]||(o[6]=s=>e(c)("password",{trigger:"blur"}).catch(()=>{}))},null,8,["value","placeholder"]),k(' <StrengthMeter :show-input="false" :value="EmailForm.password" v-if="isPwdReg" /> ')]),_:1},16),i(e(l),g(w(e(v).confirmPwd)),{default:n(()=>[i(e(D),{value:t.confirmPwd,"onUpdate:value":o[7]||(o[7]=s=>t.confirmPwd=s),valueModifiers:{trim:!0},placeholder:e(a)("login.placeEnterPwd"),type:"password",autocomplete:"new-password",onBlur:o[8]||(o[8]=s=>e(c)("confirmPwd",{trigger:"blur"}).catch(()=>{}))},null,8,["value","placeholder"])]),_:1},16),i(e(l),null,{default:n(()=>[i(d,{btnStyle:{width:"100%",height:"60px",background:"#2F54EB",borderRadius:"4px",color:"#ffffff",fontSize:"20px",marginBottom:"20px"},onClick:N},{default:n(()=>[R(y(e(a)("login.register_1")),1)]),_:1}),i(d,{btnStyle:{width:"100%",height:"60px",background:"#ffffff",border:"1px solid #999999",borderRadius:"4px",color:"#666666",fontSize:"20px"},onClick:r.handleBackLogin},{default:n(()=>[R(y(e(a)("login.cacel")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})}}});var Fe=O(ue,[["__scopeId","data-v-06702a91"]]);export{Fe as default};
