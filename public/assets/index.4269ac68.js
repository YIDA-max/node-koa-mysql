var _=(u,k,t)=>new Promise((y,s)=>{var b=c=>{try{m(t.next(c))}catch(f){s(f)}},w=c=>{try{m(t.throw(c))}catch(f){s(f)}},m=c=>c.done?y(c.value):Promise.resolve(c.value).then(b,w);m((t=t.apply(u,k)).next())});import{_ as z}from"./modal-close.6e586af3.js";import{a as L,b as V,a5 as E,u as P,r as v,a6 as j,q as K,x as h,o as G,c as W,i as r,A as o,j as e,cM as S,e as n,t as p,am as $,D as g,aL as D,y as H,z as J,p as O,k as Q,G as X}from"./index.10ef4608.js";import{P as Y}from"./index.8d0858e7.js";/* empty css                *//* empty css               *//* empty css               */import{u as Z}from"./useSetFrom.689ec4a2.js";import{S as ee}from"./add.f693dce6.js";import{u as te,B as oe}from"./useTable.a143d40c.js";import"./TableAction.edf9a202.js";import se from"./upData.6bb6370e.js";import{b as ae}from"./homePage.249d27b4.js";import{d as le}from"./download.66a6d137.js";import{q as ie}from"./homePage.5560d038.js";import{f as re}from"./fileSys.281186ac.js";/* empty css               */import"./onMountedOrActivated.0d13b2a6.js";import"./useWindowSizeFn.3e5b045d.js";import"./useContentViewHeight.9302814f.js";import"./useForm.98d7b8ca.js";/* empty css              *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";/* empty css                *//* empty css                */import"./uuid.2429c801.js";import"./index.c8f8ec06.js";import"./useModalContext.52c86736.js";/* empty css                */import"./index.504b494d.js";import"./icon-remark.1929ee0a.js";import"./useSortable.79752a2a.js";/* empty css                */import"./CustomConfirmModal.9e27a533.js";import"./modal-error.7cada6d5.js";import"./upDataBasic.fe1af927.js";import"./spark-md5.2cc5764b.js";import"./updata.d7bd895d.js";const de=u=>(O("data-v-c74ce46c"),u=u(),Q(),u),ne=["src"],ce={style:{width:"300px"}},pe={style:{width:"300px"}},me={style:{width:"300px"}},ue={style:{width:"300px"}},_e={style:{width:"300px"}},fe=de(()=>n("div",{class:"w-0 h-4"},null,-1)),he={class:"flex justify-center"},ye={class:"progress-bar"},ge={style:{display:"flex",justifyContent:"center",alignContent:"center"}},ke={style:{display:"flex"}},be=V({__name:"index",setup(u){const k=E(),{t}=P(),y=v([]),s=Z(),b=j(),{createMessage:w}=X(),m=v(!0),c=v(),[f,{clearSelectedRowKeys:F,getSelectRows:C,setTableData:U,setSelectedRowKeys:I}]=te({columns:[{title:t("rdm.check.fileRealName"),dataIndex:"fileRealName",width:200,align:"center"},{title:t("rdm.check.type"),dataIndex:"type",width:80,align:"center"},{title:t("rdm.check.status"),dataIndex:"status",width:130,slots:{customRender:"status"},align:"center"}],afterFetch:a=>(console.log(a),a),bordered:!1,striped:!0,clickToRowSelect:!1,isTreeTable:!1,showTableSetting:!1,showIndexColumn:!1,canResize:!1,ellipsis:!0,actionColumn:{width:50,title:t("rdm.check.action"),slots:{customRender:"action"},fixed:"right"},rowSelection:{type:"checkbox"},rowKey:"relationId"}),B=a=>_(this,null,function*(){const l=yield ae({id:a.id});le({url:l.downloadUrl,target:"_self",fileName:l.fileRealName})}),T=()=>_(this,null,function*(){I([...c.value[0].countList.map(a=>a.id)])}),M=()=>_(this,null,function*(){const a=yield C();a.length==0&&w.error(t("AllMessage.PleaseCheckTheFollowingDocumentsInTheForm")),a.forEach((l,d)=>_(this,null,function*(){re(l,d+1>10?1e3:(d+1)*100)})),F()});K(()=>_(this,null,function*(){const a=yield ie({id:k.params.id});c.value=[...a.record],s.UseRdmFromData.lookto=a.record[0],U([...s.UseRdmFromData.lookto.queryAllInfoResponseslist]);const l=yield ee();y.value=l,y.value.forEach((d,x)=>{d.label=d.nickname,d.value=d.id,d.key=x})}));const N=a=>new URL({"../../../assets/detail/modal-close.svg":z}[`../../../assets/detail/${a}`],self.location).href;return(a,l)=>{const d=h("a-descriptions-item"),x=h("a-descriptions"),R=h("CustomButton"),A=h("a-tooltip"),q=h("a-button");return G(),W("div",null,[r(e(Y),{class:"high-form"},{rightFooter:o(()=>[]),default:o(()=>[r(e(S),{title:e(t)("rdm.check.title"),bordered:!1},{extra:o(()=>[n("img",{style:{cursor:"pointer",height:"10px",width:"10px"},src:N("modal-close.svg"),alt:"close",onClick:l[0]||(l[0]=()=>{e(b)("/rdm")})},null,8,ne)]),default:o(()=>[r(x,{bordered:""},{default:o(()=>[r(d,{label:e(t)("rdm.check.species"),span:"2",labelStyle:{width:"150px"}},{default:o(()=>[n("div",ce,p(e(s).UseRdmFromData.lookto.createBy?e(s).UseRdmFromData.lookto.species:""),1)]),_:1},8,["label"]),r(d,{label:e(t)("rdm.check.speciesId"),span:"2",labelStyle:{width:"150px"}},{default:o(()=>[n("div",pe,p(e(s).UseRdmFromData.lookto.createBy?e(s).UseRdmFromData.lookto.speciesId:""),1)]),_:1},8,["label"]),r(d,{label:e(t)("rdm.check.genomeVersion"),span:"2",labelStyle:{width:"150px"}},{default:o(()=>[n("div",me,p(e(s).UseRdmFromData.lookto.createBy?e(s).UseRdmFromData.lookto.genomeVersion:""),1)]),_:1},8,["label"]),r(d,{label:e(t)("rdm.check.mappingId"),span:"2",labelStyle:{width:"150px"}},{default:o(()=>[n("div",ue,p(e(s).UseRdmFromData.lookto.createBy?e(s).UseRdmFromData.lookto.mappingId:"1223"),1)]),_:1},8,["label"]),r(d,{label:e(t)("rdm.check.remarkss"),span:"2",labelStyle:{width:"150px"}},{default:o(()=>{var i;return[n("div",_e,[n("span",null,p(e(s).UseRdmFromData.lookto.createBy?(i=e(s).UseRdmFromData.lookto.remarks1squery)==null?void 0:i.toString():""),1)])]}),_:1},8,["label"])]),_:1})]),_:1},8,["title"]),fe,r(e(S),{title:e(t)("rdm.check.titleTwo")},{default:o(()=>[r(e(oe),{onRegister:e(f),onSelectionChange:l[3]||(l[3]=({keys:i})=>{i.length>0?m.value=!1:m.value=!0})},{status:o(({record:i})=>[n("div",he,[n("div",ye,[n("div",{class:$([i.status?i.status:"default"])},null,2),g(" "+p(i.status=="done"?e(t)("rdm.check.uploadStatusDone"):i.status=="uploading"?e(t)("rdm.check.uploadStatusUploading"):i.status=="suspend"?e(t)("rdm.check.uploadStatusUploadSuspended"):e(t)("rdm.check.uploadStatusUploadNo")),1)])])]),toolbar:o(()=>[r(A,{placement:"top"},{title:o(()=>[n("span",null,p(e(t)("AllMessage.RdmTooltipMessage")),1)]),default:o(()=>[r(R,{size:"middle",type:"primary",style:D([{width:"90px",height:"32px",margin:"0px 0px",borderRadius:"4px"}]),disabled:m.value,onClick:l[1]||(l[1]=()=>{M()})},{default:o(()=>[g(p(e(t)("rdm.check.downs")),1)]),_:1},8,["disabled"])]),_:1}),r(R,{size:"middle",type:"primary",style:D([{background:"#fff",color:"#202020",border:"1px solid #666666",borderRadius:"4px",margin:"0px 10px"}]),onClick:l[2]||(l[2]=()=>{T()})},{default:o(()=>[g(p(e(t)("AllMessage.visual.two.ExcelDisplay.ColFilter.all")),1)]),_:1})]),action:o(({record:i})=>[n("div",ge,[n("div",ke,[H(r(e(se),{record:i},null,8,["record"]),[[J,i.status=="no"]]),r(q,{type:"link",disabled:i.status!=="done",onClick:()=>{B(i)}},{default:o(()=>[g(p(e(t)("rdm.check.down")),1)]),_:2},1032,["disabled","onClick"])])])]),_:1},8,["onRegister"])]),_:1},8,["title"])]),_:1})])}}});var pt=L(be,[["__scopeId","data-v-c74ce46c"]]);export{pt as default};
