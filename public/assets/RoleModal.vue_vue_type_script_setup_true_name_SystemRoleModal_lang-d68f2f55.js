import{u as p,B as g}from"./index-b6b4562f.js";import{u as _,a as R}from"./useForm-f3f06b26.js";import{f as h}from"./role.data-ef05ba06.js";import{g as w,u as M,c as y}from"./index-7210d183.js";import{a as r,H as B,u as s,o as v,c as C,w as F,e as b,ag as k}from"./index-4a8cc517.js";const L=r({name:"SystemRoleModal"}),$=r({...L,emits:["success","register"],setup(P,{emit:i}){const a=B(!0),[n,{setFieldsValue:l,resetFields:c,validate:m}]=_({labelWidth:120,baseColProps:{span:24},schemas:h,showActionButtonGroup:!1,actionColOptions:{span:23}}),[u,{setModalProps:o,closeModal:f}]=p(async e=>{if(c(),o({confirmLoading:!1}),a.value=!!e?.isUpdate,s(a)){const t=await w(e.record.id);l({...t})}});async function d(){try{const e=await m();o({confirmLoading:!0}),s(a)?await M(e):await y(e),f(),i("success")}finally{o({confirmLoading:!1})}}return(e,t)=>(v(),C(s(g),k(e.$attrs,{onRegister:s(u),title:a.value?"编辑":"新增",onOk:d}),{default:F(()=>[b(s(R),{onRegister:s(n)},null,8,["onRegister"])]),_:1},16,["onRegister","title"]))}});export{$ as _};
