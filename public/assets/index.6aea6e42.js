var E=Object.defineProperty,D=Object.defineProperties;var B=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var C=(e,t,o)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,F=(e,t)=>{for(var o in t||(t={}))I.call(t,o)&&C(e,o,t[o]);if(g)for(var o of g(t))T.call(t,o)&&C(e,o,t[o]);return e},x=(e,t)=>D(e,B(t));var _=(e,t,o)=>new Promise((p,i)=>{var m=a=>{try{s(o.next(a))}catch(r){i(r)}},c=a=>{try{s(o.throw(a))}catch(r){i(r)}},s=a=>a.done?p(a.value):Promise.resolve(a.value).then(m,c);s((o=o.apply(e,t)).next())});import{P as y}from"./index.8d0858e7.js";import{u as M,B as S}from"./useTable.a143d40c.js";import"./TableAction.edf9a202.js";import{u as k}from"./index.c8f8ec06.js";import{E as w}from"./index.89ad81d5.js";import{cy as h,b as O,x as P,o as v,c as j,i as l,A as n,f as b,j as u,D as A,G as R}from"./index.10ef4608.js";import{j as V}from"./Export2Excel.92374bf3.js";/* empty css               */import"./onMountedOrActivated.0d13b2a6.js";import"./useWindowSizeFn.3e5b045d.js";import"./useContentViewHeight.9302814f.js";import"./useForm.98d7b8ca.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";/* empty css                *//* empty css                */import"./uuid.2429c801.js";/* empty css                */import"./useModalContext.52c86736.js";import"./download.66a6d137.js";import"./index.504b494d.js";import"./icon-remark.1929ee0a.js";import"./useSortable.79752a2a.js";/* empty css                */import"./xlsx.bb920e2b.js";function L(e,t="modal"){return h.get({url:"/log/page",params:x(F({},e),{isAuth:!1})},{errorMessageMode:t})}function N(e="message"){return h.delete({url:"/log/clean",params:{isAuth:!1}},{errorMessageMode:e,joinParamsToUrl:!0})}const H=[{title:"\u7F16\u53F7",dataIndex:"id",ifShow:!1},{title:"\u6807\u9898",dataIndex:"title"},{title:"\u52A8\u4F5C",dataIndex:"action"},{title:"\u65B9\u5F0F",dataIndex:"type"},{title:"\u6D4F\u89C8\u5668",dataIndex:"browser"},{title:"\u7CFB\u7EDF",dataIndex:"system"},{title:"\u64CD\u4F5C\u5730",dataIndex:"address"},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"operator"},{title:"\u72B6\u6001",dataIndex:"state",format:e=>e?"\u6210\u529F":"\u5931\u8D25"},{title:"\u64CD\u4F5C\u65F6\u95F4",dataIndex:"updateTime"}],W=[{field:"title",label:"\u6807\u9898",component:"Input",colProps:{span:8}},{field:"status",label:"\u72B6\u6001",component:"Select",defaultValue:"",componentProps:{options:[{label:"\u5168\u90E8",value:""},{label:"\u6210\u529F",value:"true"},{label:"\u5931\u8D25",value:"false"}]},colProps:{span:8}}],G={class:"log-oper"},U=A(" \u5907\u4EFD "),X=A(" \u6E05\u7A7A "),Be=O({__name:"index",setup(e){const{createConfirm:t}=R(),[o,{getDataSource:p,reload:i}]=M({api:L,columns:H,useSearchForm:!0,formConfig:{labelWidth:120,schemas:W},ellipsis:!0,showTableSetting:!1,rowSelection:{type:"checkbox"}}),[m,{openModal:c}]=k();function s({filename:r,bookType:d}){V({data:p(),filename:r,write2excelOpts:{bookType:d}})}const a=()=>{t({iconType:"error",title:"\u63D0\u793A",content:"\u60A8\u786E\u5B9A\u8981\u6E05\u7A7A\u6570\u636E\u5417\uFF1F",onOk:()=>_(this,null,function*(){try{(yield N()).code===200&&i()}catch(r){console.log(r)}})})};return(r,d)=>{const f=P("a-button");return v(),j("div",G,[l(u(y),null,{default:n(()=>[b(" \u8868\u683C\u6E32\u67D3 "),l(u(S),{onRegister:u(o)},{tableTitle:n(()=>[l(f,{type:"primary",onClick:u(c),class:"mr-4"},{default:n(()=>[U]),_:1},8,["onClick"]),l(f,{onClick:a},{default:n(()=>[X]),_:1})]),_:1},8,["onRegister"]),b(" \u5BFC\u51FA\u7EC4\u4EF6 "),l(u(w),{onRegister:u(m),onSuccess:s},null,8,["onRegister"])]),_:1})])}}});export{Be as default};
