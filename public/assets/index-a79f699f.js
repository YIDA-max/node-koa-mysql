import{a as h,a9 as M,Q as P,aL as k,T as U,bp as $,B as E,o as s,f as N,e as t,w as l,u as e,ai as R,c as u,h as p,eT as S,b as i,ad as c,af as T,dB as V,F as A,i as F,aP as z}from"./index-4a8cc517.js";import{D as G}from"./siteSetting-1efc9640.js";import{u as H}from"./index-e4cbcc9e.js";import{a as Q}from"./index-b6b4562f.js";import{h as W}from"./header-55b09394.js";import{c as g}from"./createAsyncComponent-73fa97ec.js";import"./FullscreenOutlined-b0e65115.js";import"./index-7e55fa59.js";import"./useWindowSizeFn-5faf2053.js";import"./useContentViewHeight-08ed5cff.js";import"./uniqBy-4c5e11fd.js";import"./_baseIteratee-9c9af064.js";import"./get-626e6e61.js";import"./index-dd54262d.js";import"./useRefs-116b486d.js";import"./RedoOutlined-1b6793d7.js";import"./lock-b913e887.js";const j=["src"],q=h({name:"UserDropdown"}),me=h({...q,props:{theme:M.oneOf(["dark","light"])},setup(y){const x=P(),a=g(()=>k(()=>import("./DropMenuItem-b7fd13f6.js"),["assets/DropMenuItem-b7fd13f6.js","assets/index-4a8cc517.js","assets/index-0d5caaca.css"])),v=g(()=>k(()=>import("./LockModal-04571e14.js"),["assets/LockModal-04571e14.js","assets/index-4a8cc517.js","assets/index-0d5caaca.css","assets/index-b6b4562f.js","assets/useWindowSizeFn-5faf2053.js","assets/FullscreenOutlined-b0e65115.js","assets/index-c79d2b9f.css","assets/useForm-f3f06b26.js","assets/index-1e0bc94a.js","assets/index-4af91251.js","assets/index-806213af.css","assets/_baseIteratee-9c9af064.js","assets/get-626e6e61.js","assets/useSize-e99e0e82.js","assets/index-54ffc2a7.css","assets/index-529a9bc6.js","assets/index-1853a539.css","assets/index-6202a637.js","assets/index-b484b14e.css","assets/index-878008b6.js","assets/index-db2e30be.css","assets/index-68db3d9c.js","assets/index-8db57f0b.css","assets/index-328db71b.js","assets/index-fe16686d.css","assets/index-1d60304b.js","assets/index-8a14f233.css","assets/tree-56b28626.js","assets/eagerComputed-80ba1157.js","assets/tree-43c25703.css","assets/index-326f1109.js","assets/transButton-0a2e0cd4.js","assets/useRefs-116b486d.js","assets/index-87ae8662.js","assets/index-358178de.css","assets/index-5a68e7a3.js","assets/uniqBy-4c5e11fd.js","assets/useForm-e7dc4998.css","assets/lock-b913e887.js","assets/header-55b09394.js","assets/LockModal-ca58db68.css"])),{prefixCls:o}=U("header-user-dropdown"),{t:n}=F(),{getShowDoc:m,getUseLockPage:w}=H(),d=$(),_=E(()=>{const{nickname:r="",avatar:f}=d.getUserInfo.user||{};return{nickname:r,avatar:f||W}}),[C,{openModal:D}]=Q();function L(){D(!0)}function I(){d.confirmLoginOut()}function b(){z(G)}function O(){x("/profile/index")}function B(r){switch(r.key){case"profile":O();break;case"logout":I();break;case"doc":b();break;case"lock":L();break}}return(r,f)=>(s(),N(A,null,[t(e(V),{placement:"bottomLeft",overlayClassName:`${e(o)}-dropdown-overlay`},{overlay:l(()=>[t(e(R),{onClick:B},{default:l(()=>[t(e(a),{key:"profile",text:e(n)("layout.header.accountCenter"),icon:"ion:person-outline"},null,8,["text"]),e(m)?(s(),u(e(a),{key:"doc",text:e(n)("layout.header.dropdownItemDoc"),icon:"ion:document-text-outline"},null,8,["text"])):p("",!0),e(m)?(s(),u(e(S),{key:1})):p("",!0),e(w)?(s(),u(e(a),{key:"lock",text:e(n)("layout.header.tooltipLock"),icon:"ion:lock-closed-outline"},null,8,["text"])):p("",!0),t(e(a),{key:"logout",text:e(n)("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"])]),_:1})]),default:l(()=>[i("span",{class:c([[e(o),`${e(o)}--${y.theme}`],"flex"])},[i("img",{class:c(`${e(o)}__header`),src:e(_).avatar},null,10,j),i("span",{class:c(`${e(o)}__info hidden md:block`)},[i("span",{class:c([`${e(o)}__name  `,"truncate"])},T(e(_).nickname),3)],2)],2)]),_:1},8,["overlayClassName"]),t(e(v),{onRegister:e(C)},null,8,["onRegister"])],64))}});export{me as default};
