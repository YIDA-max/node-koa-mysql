var S=(p,i,a)=>new Promise((n,u)=>{var x=c=>{try{d(a.next(c))}catch(b){u(b)}},g=c=>{try{d(a.throw(c))}catch(b){u(b)}},d=c=>c.done?n(c.value):Promise.resolve(c.value).then(x,g);d((a=a.apply(p,i)).next())});import{u as U,bm as k,a as z,b as D,r as y,ay as E,q as R,x as T,o as A,c as F,i as m,A as h,j as f,X as H,e as C,D as V,t as P,y as $,z as q,ao as G,ap as W,cl as X,ab as J,cv as K,p as Q,k as Y}from"./index.10ef4608.js";import{u as Z,B as ee}from"./useForm.98d7b8ca.js";/* empty css               */import{u as te}from"./casual.c3003c80.js";import oe from"./V3ColorPicker.3aeb3ea0.js";/* empty css              *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";/* empty css                *//* empty css                */import"./uuid.2429c801.js";import"./index.c8f8ec06.js";import"./useWindowSizeFn.3e5b045d.js";import"./useModalContext.52c86736.js";import"./TableAction.edf9a202.js";/* empty css                */import"./download.66a6d137.js";import"./index.504b494d.js";import"./ColorPicker.3725ed80.js";import"./ColorPanel.209bf7d4.js";import"./draggable.354c5b1e.js";import"./ColorPreview.6aea0981.js";import"./ColorHue.94d928ef.js";import"./ColorAlpha.071f638e.js";import"./ColorValue.246a701d.js";import"./ColorList.125944a3.js";const{t:_}=U(),se=()=>{const p=[{field:"height",component:"Input",label:_("AllMessage.visual.two.PreferencesList.height"),rules:[{validator:(i,a)=>S(void 0,null,function*(){return isNaN(a)&&a?Promise.reject(_("AllMessage.visual.two.PreferencesList.number")):!0}),validateTrigger:"blur"}],colProps:{span:7,offset:0}},{field:"width",component:"Input",label:_("AllMessage.visual.two.PreferencesList.width"),rules:[{validator:(i,a)=>S(void 0,null,function*(){return isNaN(a)&&a?Promise.reject(_("AllMessage.visual.two.PreferencesList.number")):!0}),validateTrigger:"blur"}],colProps:{span:7,offset:1}},{field:"col_chose",component:"Select",slot:"selectRowSelect",label:_("AllMessage.visual.two.PreferencesList.col_chose"),colProps:{span:7,offset:1}},{field:"color",component:"Select",label:k("div",{style:"position: relative;top: 15px;"},[k("div",{},_("AllMessage.visual.two.PreferencesList.colorOne"))]),slot:"color",colProps:{span:23,offset:0}}];return p.forEach(i=>{i.component=="Select"&&(i.componentProps||(i.componentProps={}),i.componentProps.size="large")}),p};const ae=p=>(Q("data-v-017ecdb3"),p=p(),Y(),p),le={style:{minHeight:"400px"}},re={style:{position:"relative",top:"0px",margin:"0px 0px 0px 0px"}},ne={style:{width:"900px",maxHeight:"130px",height:"130px",overflow:"auto",border:"1px solid #d3d5db"}},ie={style:{}},ue={style:{position:"relative",display:"inline-block",top:"8px"}},ce=ae(()=>C("br",null,null,-1)),pe=D({__name:"VennDiagram",props:{toNextFn:Function},setup(p,{expose:i}){const{t:a}=U(),n=te(),u=y(),x=y(1),g=y(),d=y([]),c=y(),b=()=>{for(var t="#",e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],l=0;l<6;l++){var r=parseInt(Math.random()*16);t+=e[r]}return t};E(()=>d.value,()=>{let t="";d.value.map(e=>{t=t+`%23${e.slice(1)},`}),t=t.substr(0,t.length-1),g.value=t},{deep:!0});const I=t=>{c.value=t,c.value.forEach((l,r)=>{d.value[r]=b()});let e="";d.value.forEach((l,r)=>{e=e+`%23${l.slice(1)},`}),e=e.substr(0,e.length-1),console.log(" ",e),g.value=e},[j,{setFieldsValue:L,validate:N,resetFields:B}]=Z({labelWidth:110,schemas:se(),baseColProps:{span:7,offset:1},actionColOptions:{span:18,offset:4},showActionButtonGroup:!1}),O=()=>S(this,null,function*(){return g.value?{validate:yield N(),colorArr:g.value}:{validate:yield N()}});return E(()=>n.useVisualConstructionTwohander,()=>{B(),u.value=[];const t=[...n.useVisualConstructionTwohander],e=[...n.useVisualConstructionTwobody];let l=!1;t.forEach((o,s)=>{e.forEach((v,w)=>{!isNaN(e[w][o.dataIndex])&&e[w][o.dataIndex]!=""&&(l=!0)})}),l?(t.splice(0,1),u.value=t,n.vennUrlFlag=!0):(u.value=t,n.vennUrlFlag=!1);const r=[];u.value.forEach((o,s)=>{o.label=o.title,o.value=o.title,r.push(o.title)}),L({col_chose:r}),I(r)},{deep:!0}),R(()=>{const t=setInterval(()=>{if(n.useVisualConstructionTwohander){const e=[...n.useVisualConstructionTwohander],l=[...n.useVisualConstructionTwobody];let r=!1;e.forEach((s,v)=>{l.forEach((w,M)=>{!isNaN(l[M][s.dataIndex])&&l[M][s.dataIndex]!=""&&(r=!0)})}),r?(e.splice(0,1),u.value=e,n.vennUrlFlag=!0):(u.value=e,n.vennUrlFlag=!1);const o=[];u.value.forEach((s,v)=>{s.label=s.title,s.value=s.title,o.push(s.title)}),L({col_chose:o}),I(o),clearInterval(t)}},1e3)}),i({returnedValue:O}),(t,e)=>{const l=T("a-radio"),r=T("a-radio-group");return A(),F("div",le,[m(f(ee),{onRegister:f(j)},{selectRowSelect:h(({model:o,field:s})=>[m(f(H),{size:"large",options:u.value,mode:"multiple",value:o[s],"onUpdate:value":v=>o[s]=v,allowClear:"",onChange:e[0]||(e[0]=v=>I(v)),showSearch:"","filter-option":(v,w)=>w.label.toLowerCase().indexOf(v.toLowerCase())>=0},null,8,["options","value","onUpdate:value","filter-option"])]),color:h(()=>[C("div",re,[m(r,{value:x.value,"onUpdate:value":e[1]||(e[1]=o=>x.value=o)},{default:h(()=>[m(l,{style:{display:"block",height:"30px",lineHeight:"30px"},value:1},{default:h(()=>[V(P(f(a)("AllMessage.visual.two.PreferencesList.default"))+":",1)]),_:1}),m(l,{style:{display:"block",height:"30px",lineHeight:"30px"},value:2},{default:h(()=>[V(P(f(a)("AllMessage.visual.two.PreferencesList.custom"))+": ",1)]),_:1}),$(C("div",ne,[(A(!0),F(G,null,W(c.value,(o,s)=>(A(),F("div",{key:o,style:{margin:"0px 0px 0px 15px",width:"30%",height:"40px",display:"inline-block"}},[C("div",ie,[V(P(o)+" "+P(f(a)("AllMessage.visual.two.PreferencesList.colorItem"))+" ",1),C("div",ue,[m(oe,{value:d.value[s],"onUpdate:value":v=>d.value[s]=v,size:"mini",theme:"light",width:400},null,8,["value","onUpdate:value"])])])]))),128))],512),[[q,x.value==2]])]),_:1},8,["value"])])]),_:1},8,["onRegister"]),ce,m(f(K),null,{default:h(()=>[m(f(X),{span:4,offset:11},{default:h(()=>[m(f(J),{size:"middle",style:{background:"#3152ed",color:"#ffffff",margin:"0px 0px",borderRadius:"4px"},onClick:e[2]||(e[2]=()=>{p.toNextFn()})},{default:h(()=>[V(P(f(a)("AllMessage.visual.two.PreferencesList.confirm")),1)]),_:1})]),_:1})]),_:1})])}}});var $e=z(pe,[["__scopeId","data-v-017ecdb3"]]);export{$e as default};
