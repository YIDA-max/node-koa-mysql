var w=Object.defineProperty;var m=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,_=Object.prototype.propertyIsEnumerable;var p=(e,n,t)=>n in e?w(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,g=(e,n)=>{for(var t in n||(n={}))S.call(n,t)&&p(e,t,n[t]);if(m)for(var t of m(n))_.call(n,t)&&p(e,t,n[t]);return e};import{a as z,b as C,dY as R,r as T,s as B,q as N,ar as v,dZ as O,b2 as y,av as x,x as M,o as a,U as k,A,c as h,aJ as I,B as E,d_ as L}from"./index.10ef4608.js";const W={timeout:{type:Number},viewport:{type:typeof window!="undefined"?window.HTMLElement:Object,default:()=>null},threshold:{type:String,default:"0px"},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},tag:{type:String,default:"div"},maxWaitingTime:{type:Number,default:80},transitionName:{type:String,default:"lazy-container"}},j=C({name:"LazyContainer",components:{Skeleton:R},inheritAttrs:!1,props:W,emits:["init"],setup(e,{emit:n}){const t=T(),i=B({isInit:!1,loading:!1,intersectionObserverInstance:null});N(()=>{c(),r()});function c(){const{timeout:s}=e;s&&v(()=>{o()},s)}function o(){i.loading=!0,v(()=>{i.isInit||(i.isInit=!0,n("init"))},e.maxWaitingTime||80)}function r(){const{timeout:s,direction:b,threshold:d}=e;if(s)return;let l="0px";switch(b){case"vertical":l=`${d} 0px`;break;case"horizontal":l=`0px ${d}`;break}try{const{stop:u,observer:$}=O({rootMargin:l,target:y(t.value,"$el"),onIntersect:f=>{(f[0].isIntersecting||f[0].intersectionRatio)&&(o(),$&&u())},root:y(e,"viewport")})}catch(u){o()}}return g({elRef:t},x(i))}}),q={key:"component"},F={key:"skeleton"};function G(e,n,t,i,c,o){const r=M("Skeleton");return a(),k(L,E({class:"h-full w-full"},e.$attrs,{ref:"elRef",name:e.transitionName,tag:e.tag,mode:"out-in"}),{default:A(()=>[e.isInit?(a(),h("div",q,[I(e.$slots,"default",{loading:e.loading})])):(a(),h("div",F,[e.$slots.skeleton?I(e.$slots,"skeleton",{key:0}):(a(),k(r,{key:1}))]))]),_:3},16,["name","tag"])}var U=z(j,[["render",G]]);export{U as default};
