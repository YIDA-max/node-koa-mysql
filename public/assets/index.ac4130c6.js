import{P as w}from"./index.8d0858e7.js";import{u as R,B as D}from"./useTable.a143d40c.js";import"./TableAction.edf9a202.js";import{a as I,b as M,u as $,cJ as O,ch as U,aG as E,x as y,o as s,U as l,A as t,i as p,j as e,I as F,d5 as N,d6 as V,D as u,t as d,f}from"./index.10ef4608.js";/* empty css              *//* empty css               */import{c as q,q as A,a as G,C as j,r as H}from"./CategoryModal.9892d871.js";import{u as J}from"./index.c8f8ec06.js";import{u as L}from"./useBatchDelete.9dc1ae07.js";/* empty css               */import"./onMountedOrActivated.0d13b2a6.js";import"./useWindowSizeFn.3e5b045d.js";import"./useContentViewHeight.9302814f.js";import"./useForm.98d7b8ca.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";/* empty css                *//* empty css                */import"./uuid.2429c801.js";/* empty css                */import"./useModalContext.52c86736.js";import"./download.66a6d137.js";import"./index.504b494d.js";import"./icon-remark.1929ee0a.js";import"./useSortable.79752a2a.js";/* empty css                */import"./index.866ec2c8.js";import"./modal-error.7cada6d5.js";const W=M({__name:"index",setup(z){const{t:r}=$(),{hasPermission:c}=O(),b=U.RangePicker,[h,{reload:m,setProps:_}]=R({columns:q,api:A,useSearchForm:!0,formConfig:{showActionButtonGroup:!1,schemas:G},rowSelection:{type:"checkbox"},clickToRowSelect:!1,actionColumn:{width:200,title:r("sdp.ctc.operation"),dataIndex:"action",slots:{customRender:"action"}},showIndexColumn:!1}),[B,{openModal:T}]=J(),{hasBatchDelete:P,handleDeleteOrBatchDelete:C,selectionOptions:S}=L(H,m,_);E(()=>{_(S)});const v=(x,a={})=>{T(!0,{statusPayload:x,record:a})};return(x,a)=>{const g=y("CustomButton"),k=y("a-button");return s(),l(e(w),null,{default:t(()=>[p(e(D),{onRegister:e(h)},{"form-input":t(({model:o,field:n})=>[p(e(F),{value:o[n],"onUpdate:value":i=>o[n]=i,allowClear:"",onPressEnter:e(m),placeholder:e(r)("sdp.ctc.inputSearch"),onChange:a[0]||(a[0]=({type:i})=>{i=="click"&&e(m)()})},{prefix:t(()=>[p(e(N))]),_:2},1032,["value","onUpdate:value","onPressEnter","placeholder"])]),"form-createTime":t(({model:o,field:n})=>[p(e(b),{value:o[n],"onUpdate:value":i=>o[n]=i,onChange:a[1]||(a[1]=i=>e(m)()),separator:"-"},{suffixIcon:t(()=>[p(e(V))]),_:2},1032,["value","onUpdate:value"])]),tableTitle:t(()=>[e(c)(["pic:cate:add"])?(s(),l(g,{key:0,btnStyle:{backgroundColor:"#2F54EB",color:"#fff"},onClick:a[2]||(a[2]=o=>v("add"))},{default:t(()=>[u(d(e(r)("common.addText")),1)]),_:1})):f("v-if",!0),e(c)(["pic:cate:del"])?(s(),l(g,{key:1,btnStyle:{backgroundColor:"#fff",border:"1px solid rgb(102, 102, 102)",color:"#000",marginLeft:"10px"},onClick:a[3]||(a[3]=o=>e(C)(null)),disabled:e(P)},{default:t(()=>[u(d(e(r)("mom.deletes")),1)]),_:1},8,["btnStyle","disabled"])):f("v-if",!0)]),action:t(({record:o})=>[e(c)(["pic:cate:view"])?(s(),l(k,{key:0,type:"link",onClick:n=>v("view",o)},{default:t(()=>[u(d(e(r)("common.viewText")),1)]),_:2},1032,["onClick"])):f("v-if",!0),e(c)(["pic:cate:edit"])?(s(),l(k,{key:1,type:"link",onClick:n=>v("edit",o)},{default:t(()=>[u(d(e(r)("common.editText")),1)]),_:2},1032,["onClick"])):f("v-if",!0),e(c)(["pic:cate:del"])?(s(),l(k,{key:2,type:"link",onClick:n=>e(C)(o)},{default:t(()=>[u(d(e(r)("common.delText")),1)]),_:2},1032,["onClick"])):f("v-if",!0)]),_:1},8,["onRegister"]),p(j,{onRegister:e(B),onSuccess:e(m)},null,8,["onRegister","onSuccess"])]),_:1})}}});var we=I(W,[["__scopeId","data-v-f2eb104e"]]);export{we as default};
