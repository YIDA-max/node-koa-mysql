import{a as C,b,r as s,ay as d,x as k,o as p,c as y,e as i,aL as z,am as B,U as v,i as T,A as w,f as m,bh as L,dl as N,ao as P,aG as E}from"./index.10ef4608.js";import $ from"./ColorPicker.3725ed80.js";import"./ColorPanel.209bf7d4.js";import"./draggable.354c5b1e.js";import"./ColorPreview.6aea0981.js";import"./ColorHue.94d928ef.js";import"./ColorAlpha.071f638e.js";import"./ColorValue.246a701d.js";import"./ColorList.125944a3.js";const I=b({name:"V3ColorPicker",components:{ColorPicker:$},props:{value:{type:[String,null],default:"#fff"},zIndex:{type:Number,default:2},theme:{type:String,default:"dark"},height:{type:Number,default:150},width:{type:Number,default:233},colors:{type:Array,default:["#ff4500","#ff8c00","#ffd700","#90ee9003","#00ced1","#1e90ff","#c71585","#ff4500ad","#ff7800","#fad400","#90f09080","#00babd","#1f93ffba","#c7158575"]},size:{type:String},btn:{type:Boolean,default:!1}},emits:["update:value","change"],setup(e,{emit:o}){const u=s(null),f=s({x:0,y:0}),a=s(!1),t=s(e.value);d(t,l=>{a.value=!1,!e.btn&&o("update:value",l),o("change",l)}),d(()=>e.value,l=>{(l!==null||!e.btn)&&(a.value=!1,t.value=e.value),l===null&&(a.value=!0)});const n=s(!1);function r(l){n.value=!1,E(()=>{f.value={x:l.clientX,y:l.clientY},n.value=!0})}function c(l){u.value!==l.target&&(n.value=!1)}function h(){o("update:value",t.value),o("change",t.value),n.value=!1}function g(){o("update:value",null),o("change",null),a.value=!0,n.value=!1}return d(n,l=>{l?(globalThis.document.addEventListener("click",c),globalThis.document.addEventListener("contextmenu",c)):(globalThis.document.removeEventListener("click",c),globalThis.document.removeEventListener("contextmenu",c))}),{onClick:r,position:f,open:n,color:t,confirm:h,clear:g,isClear:a,colorRef:u}}}),S={class:"c-p-t"},V={class:"c-p-c"},M=i("span",{class:"c-p-i"},[m(` <svg v-if="!isClear" class="icon" viewBox="0 0 1024 1024">\r
          <path\r
            d="M511.711 671.589l-270.188-270.23c-0.287-0.264-0.573-0.531-0.851-0.809-10.935-10.935-10.935-28.663 0-39.598 10.935-10.935 28.663-10.935 39.598 0 0.278 0.278 0.545 0.564 0.809 0.851l0.021-0.021 230.691 230.69 231.94-231.94c10.935-10.935 28.663-10.935 39.598 0s10.935 28.663 0 39.598l-271.617 271.459z"\r
          />\r
        </svg>\r
        <svg v-else class="icon" viewBox="0 0 1024 1024">\r
          <path\r
            d="M704.28672 309.20704l28.95872 28.9792L334.6432 736.78848l-28.95872-28.9792z"\r
            fill="#999"\r
          />\r
          <path\r
            d="M341.03296 315.5968l398.60224 398.60224-28.95872 28.95872-398.60224-398.60224z"\r
            fill="#999"\r
          />\r
        </svg> `)],-1);function A(e,o,u,f,a,t){const n=k("ColorPicker");return p(),y(P,null,[i("div",{ref:"colorRef",class:B(["v3-c-p",e.size?`v3-c-p-${e.size}`:null]),onClick:o[0]||(o[0]=(...r)=>e.onClick&&e.onClick(...r))},[i("div",S,[i("span",V,[i("span",{class:"c-p-c-i",style:z({backgroundColor:e.isClear?"transparent":e.color})},null,4)]),M])],2),(p(),v(N,{to:"body"},[T(L,{name:"color-fade"},{default:w(()=>[e.open?(p(),v(n,{key:0,value:e.color,"onUpdate:value":o[1]||(o[1]=r=>e.color=r),zIndex:e.zIndex,position:e.position,theme:e.theme,width:e.width-10,height:e.height,colors:e.colors,btn:e.btn,onConfirm:e.confirm,onClear:e.clear},null,8,["value","zIndex","position","theme","width","height","colors","btn","onConfirm","onClear"])):m("v-if",!0)]),_:1})]))],64)}var D=C(I,[["render",A]]);export{D as default};
