var X=Object.defineProperty,K=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable;var E=(e,n,t)=>n in e?X(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,p=(e,n)=>{for(var t in n||(n={}))q.call(n,t)&&E(e,t,n[t]);if(z)for(var t of z(n))Q.call(n,t)&&E(e,t,n[t]);return e},S=(e,n)=>K(e,Y(n));import{i as D,ad as x,b as I,l as A,o as i,U as f,A as _,al as w,f as g,aJ as G,V as O,W as V,B as F,j as b,ab as ee,bF as L,bm as M,bM as te,u as ne,cH as oe,bG as Z,aO as se,aF as re,cI as ae,ck as ie,bu as le,aK as ce,ah as h,w as ue,cJ as de,as as $,bC as pe,a as fe,aP as me,aA as ge,x as v,c as C,ao as T,ap as be,am as B,D as U,t as R}from"./index.10ef4608.js";/* empty css               */import{u as H}from"./useAttrs.1d381a3e.js";var ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},ve=ye;function j(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},c=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(t).filter(function(u){return Object.getOwnPropertyDescriptor(t,u).enumerable}))),c.forEach(function(u){_e(e,u,t[u])})}return e}function _e(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var N=function(n,t){var c=j({},n,t.attrs);return D(x,j({},c,{icon:ve}),null)};N.displayName="MoreOutlined";N.inheritAttrs=!1;var Ae=N;const Ce={color:{type:String,validator:e=>["error","warning","success",""].includes(e)},loading:{type:Boolean},disabled:{type:Boolean},preIcon:{type:String},postIcon:{type:String},iconSize:{type:Number,default:14},onClick:{type:Function,default:null}},Se=I({name:"AButton",inheritAttrs:!1}),J=I(S(p({},Se),{props:Ce,setup(e){const n=e,t=H({excludeDefaultKeys:!1}),c=A(()=>{const{color:a,disabled:d}=n;return[{[`ant-btn-${a}`]:!!a,["is-disabled"]:d}]}),u=A(()=>p(p({},b(t)),n));return(a,d)=>(i(),f(b(ee),F(b(u),{class:b(c),onClick:a.onClick}),{default:_(m=>[a.preIcon?(i(),f(w,{key:0,icon:a.preIcon,size:a.iconSize},null,8,["icon","size"])):g("v-if",!0),G(a.$slots,"default",O(V(m||{}))),a.postIcon?(i(),f(w,{key:1,icon:a.postIcon,size:a.iconSize},null,8,["icon","size"])):g("v-if",!0)]),_:3},16,["class","onClick"]))}})),Te={enable:{type:Boolean,default:!0}},Oe=I({name:"PopButton",inheritAttrs:!1,props:Te,setup(e,{slots:n}){const{t}=ne(),c=H(),u=A(()=>Object.assign({okText:t("common.okText"),cancelText:t("common.cancelText")},p(p({},e),b(c))));return()=>{const a=L(b(u),"icon"),d=L(a,"title");d.disabled&&(d.color="");const m=M(J,d,te(n));return e.enable?M(oe,a,{default:()=>m}):m}}}),je=Z(J),Ie=Z(Oe),W=Symbol("basic-table");function Ge(e){re(W,e)}function ke(){return se(W)}const{table:Pe}=ae,{pageSizeOptions:he,defaultPageSize:Be,fetchSetting:De,defaultSize:we,defaultSortFn:Fe,defaultFilterFn:Ne}=Pe,Ve="key",Ze=he,He=Be,Je=De,We=we,Xe=Fe,Ke=Ne,Ye="center",qe="INDEX",ze="ACTION";const Ee=I({name:"TableAction",components:{Icon:w,PopConfirmButton:Ie,Divider:ie,Dropdown:le,MoreOutlined:Ae,Tooltip:ce},props:{actions:{type:Array,default:null},dropDownActions:{type:Array,default:null},divider:h.bool.def(!0),outside:h.bool,stopButtonPropagation:h.bool.def(!1)},setup(e){const{prefixCls:n}=ue("basic-table-action");let t={};e.outside||(t=ke());const{hasPermission:c}=de();function u(r){const s=r.ifShow;let l=!0;return me(s)&&(l=s),ge(s)&&(l=s(r)),l}const a=A(()=>($(e.actions)||[]).filter(r=>c(r.auth)&&u(r)).map(r=>{const{popConfirm:s}=r;return S(p(p({getPopupContainer:()=>{var l;return(l=b(t==null?void 0:t.wrapRef.value))!=null?l:document.body},type:"link",size:"small"},r),s||{}),{onConfirm:s==null?void 0:s.confirm,onCancel:s==null?void 0:s.cancel,enable:!!s})})),d=A(()=>($(e.dropDownActions)||[]).filter(r=>c(r.auth)&&u(r)).map((r,s)=>{const{label:l,popConfirm:o}=r;return S(p(p({},r),o),{onConfirm:o==null?void 0:o.confirm,onCancel:o==null?void 0:o.cancel,text:l,divider:s<e.dropDownActions.length-1?e.divider:!1})})),m=A(()=>{var l,o;const s=(((l=t==null?void 0:t.getColumns)==null?void 0:l.call(t))||[]).find(y=>y.flag===ze);return(o=s==null?void 0:s.align)!=null?o:"left"});function k(r){return p({getPopupContainer:()=>{var s;return(s=b(t==null?void 0:t.wrapRef.value))!=null?s:document.body},placement:"bottom"},pe(r)?{title:r}:r)}function P(r){if(!e.stopButtonPropagation)return;r.composedPath().find(o=>{var y;return((y=o.tagName)==null?void 0:y.toUpperCase())==="BUTTON"})&&r.stopPropagation()}return{prefixCls:n,getActions:a,getDropdownList:d,getAlign:m,onCellClick:P,getTooltip:k}}});function Le(e,n,t,c,u,a){const d=v("Icon"),m=v("PopConfirmButton"),k=v("Tooltip"),P=v("Divider"),r=v("MoreOutlined"),s=v("a-button"),l=v("Dropdown");return i(),C("div",{class:B([e.prefixCls,e.getAlign]),onClick:n[0]||(n[0]=(...o)=>e.onCellClick&&e.onCellClick(...o))},[(i(!0),C(T,null,be(e.getActions,(o,y)=>(i(),C(T,{key:`${y}-${o.label}`},[o.tooltip?(i(),f(k,O(F({key:0},e.getTooltip(o.tooltip))),{default:_(()=>[D(m,O(V(o)),{default:_(()=>[o.icon?(i(),f(d,{key:0,icon:o.icon,class:B({"mr-1":!!o.label})},null,8,["icon","class"])):g("v-if",!0),o.label?(i(),C(T,{key:1},[U(R(o.label),1)],64)):g("v-if",!0)]),_:2},1040)]),_:2},1040)):(i(),f(m,O(F({key:1},o)),{default:_(()=>[o.icon?(i(),f(d,{key:0,icon:o.icon,class:B({"mr-1":!!o.label})},null,8,["icon","class"])):g("v-if",!0),o.label?(i(),C(T,{key:1},[U(R(o.label),1)],64)):g("v-if",!0)]),_:2},1040)),e.divider&&y<e.getActions.length-1?(i(),f(P,{key:2,type:"vertical",class:"action-divider"})):g("v-if",!0)],64))),128)),e.dropDownActions&&e.getDropdownList.length>0?(i(),f(l,{key:0,trigger:["hover"],dropMenuList:e.getDropdownList,popconfirm:""},{default:_(()=>[G(e.$slots,"more"),e.$slots.more?g("v-if",!0):(i(),f(s,{key:0,type:"link",size:"small"},{default:_(()=>[D(r,{class:"icon-more"})]),_:1}))]),_:3},8,["dropMenuList"])):g("v-if",!0)],2)}var Qe=fe(Ee,[["render",Le]]);export{ze as A,je as B,Ye as D,Je as F,qe as I,He as P,Ve as R,Qe as T,Ze as a,Xe as b,Ke as c,We as d,Ge as e,ke as u};
