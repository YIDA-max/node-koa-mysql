import{a as u,T as S,bp as I,B as c,j as $,o as b,c as C,w as l,b as s,ad as t,u as e,af as m,e as p,k as L,ag as x,i as M}from"./index-4a8cc517.js";import{u as R,B as F}from"./index-b6b4562f.js";import{u as N,a as P}from"./useForm-f3f06b26.js";import{u as U}from"./lock-b913e887.js";import{h as V}from"./header-55b09394.js";import"./useWindowSizeFn-5faf2053.js";import"./FullscreenOutlined-b0e65115.js";import"./index-1e0bc94a.js";import"./index-4af91251.js";import"./_baseIteratee-9c9af064.js";import"./get-626e6e61.js";import"./useSize-e99e0e82.js";import"./index-529a9bc6.js";import"./index-6202a637.js";import"./index-878008b6.js";import"./index-68db3d9c.js";import"./index-328db71b.js";import"./index-1d60304b.js";import"./tree-56b28626.js";import"./eagerComputed-80ba1157.js";import"./index-326f1109.js";import"./transButton-0a2e0cd4.js";import"./useRefs-116b486d.js";import"./index-87ae8662.js";import"./index-5a68e7a3.js";import"./uniqBy-4c5e11fd.js";const D=["src"],T=u({name:"LockModal"}),ue=u({...T,setup(j){const{t:r}=M(),{prefixCls:o}=S("header-lock-modal"),n=I(),d=U(),_=c(()=>n.getUserInfo?.user.nickname),[f,{closeModal:g}]=R(),[k,{validateFields:h,resetFields:v}]=N({showActionButtonGroup:!1,schemas:[{field:"password",label:r("layout.header.lockScreenPassword"),colProps:{span:24},component:"InputPassword",required:!0}]});async function w(){const i=(await h()).password;g(),d.setLockInfo({isLock:!0,pwd:i}),await v()}const y=c(()=>{const{avatar:a}=n.getUserInfo.user;return a||V});return(a,i)=>{const B=$("a-button");return b(),C(e(F),x({footer:null,title:e(r)("layout.header.lockScreen")},a.$attrs,{class:e(o),onRegister:e(f)}),{default:l(()=>[s("div",{class:t(`${e(o)}__entry`)},[s("div",{class:t(`${e(o)}__header`)},[s("img",{src:e(y),class:t(`${e(o)}__header-img`)},null,10,D),s("p",{class:t(`${e(o)}__header-name`)},m(e(_)),3)],2),p(e(P),{onRegister:e(k)},null,8,["onRegister"]),s("div",{class:t(`${e(o)}__footer`)},[p(B,{type:"primary",block:"",class:"mt-2",onClick:w},{default:l(()=>[L(m(e(r)("layout.header.lockScreenBtn")),1)]),_:1})],2)],2)]),_:1},16,["title","class","onRegister"])}}});export{ue as default};
