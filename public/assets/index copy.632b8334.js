var d=(B,m,p)=>new Promise((x,E)=>{var o=i=>{try{A(p.next(i))}catch(c){E(c)}},b=i=>{try{A(p.throw(i))}catch(c){E(c)}},A=i=>i.done?x(i.value):Promise.resolve(i.value).then(o,b);A((p=p.apply(B,m)).next())});import{_ as U}from"./modal-close.6e586af3.js";import{b as _,u as P,a5 as J,a6 as Y,r as y,q as j,x as N,o as g,c as h,i as s,A as n,j as r,cM as I,e as w,ab as K,D as S,t as C,aL as v,G as Z}from"./index.10ef4608.js";/* empty css                *//* empty css               *//* empty css               */import{P as H}from"./index.8d0858e7.js";import{u as W}from"./useSetFrom.689ec4a2.js";import{a as X,h as k,b as V}from"./homePage.0537fe58.js";import{u as L,B as q}from"./useTable.a143d40c.js";import"./TableAction.edf9a202.js";import{d as $}from"./download.66a6d137.js";import{b as D}from"./homePage.249d27b4.js";import{D as ee}from"./index.5556d4ce.js";/* empty css               */import"./onMountedOrActivated.0d13b2a6.js";import"./useWindowSizeFn.3e5b045d.js";import"./useContentViewHeight.9302814f.js";import"./useForm.98d7b8ca.js";/* empty css              *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";/* empty css                *//* empty css                */import"./uuid.2429c801.js";import"./index.c8f8ec06.js";import"./useModalContext.52c86736.js";/* empty css                */import"./index.504b494d.js";import"./icon-remark.1929ee0a.js";import"./useSortable.79752a2a.js";/* empty css                */const te=["src"],ae=w("span",null,"\u6279\u91CF\u4E0B\u8F7D\u8868\u683C\u5185\u6587\u4EF6",-1),oe={style:{display:"flex"}},le={class:"block w-18 text-left"},Je=_({__name:"index copy",setup(B){const{t:m}=P(),p=J(),{createMessage:x}=Z(),E=Y(),o=y({});W();const b=y(),A=y(),i=y(),c=new Date,F=new Date;c.setMonth(c.getMonth()-1),F.setMonth(F.getMonth()+1),o.value.proJectAchivesName,o.value.masterProject,o.value.subproject,o.value.looktype,o.value.mappingId,o.value.species,o.value.createTime,o.value.samplingPlace,o.value.sampleType,o.value.lookplatform,o.value.otherPlatforms,o.value.instrument,o.value.otherInstrument,o.value.experimentalDesign,o.value.dataOwnerQuery,o.value.otherInformation,o.value.otherInformation,o.value.otherInformation,o.value.sharerQuery,o.value.shareInformation,o.value.articleContent;const M=[{field:"proJectAchivesName",label:"\u4E3B\u9879\u76EE\u540D\u79F0"},{field:"masterProject",label:"\u4E3B\u9879\u76EE"},{field:"subproject",label:"\u5B50\u9879\u76EE"},{field:"looktype",label:"\u7C7B\u578B"},{field:"mappingId",label:"\u6620\u5C04ID"},{field:"species",label:"\u7269\u79CD"},{field:"createTime",label:"\u6536\u96C6\u65F6\u95F4"},{field:"samplingPlace",label:"\u91C7\u6837\u5730\u70B9"},{field:"sampleType",label:"\u6837\u54C1\u7C7B\u578B"},{field:"lookplatform",label:"\u5E73\u53F0"},{field:"otherPlatforms",label:"\u5176\u4ED6\u5E73\u53F0"},{field:"instrument",label:"\u4EEA\u5668"},{field:"otherInstrument",label:"\u5176\u4ED6\u4EEA\u5668"},{field:"experimentalDesign",label:"\u5B9E\u9A8C\u8BBE\u8BA1\u4FE1\u606F"},{field:"dataOwnerQuery",label:"\u6570\u636E\u6240\u6709\u8005",render:a=>{let e="";return a==null||a.forEach((l,u)=>{u==a.length-1?e=e+l:e=e+l+","}),s("div",null,e)}},{field:"otherInformationName",label:"\u5176\u4ED6\u6240\u6709\u8005",render:a=>{var l;let e="";return(l=JSON.parse(a||"[]"))==null||l.forEach((u,t)=>{t==JSON.parse(a).length-1?e=e+u.name:e=e+u.name+","}),s("div",null,e)}},{field:"otherInformationPone",label:"\u5176\u4ED6\u6240\u6709\u8005\u7535\u8BDD",render:a=>{var l;let e="";return(l=JSON.parse(a||"[]"))==null||l.forEach((u,t)=>{t==JSON.parse(a).length-1?e=e+u.phone:e=e+u.phone+","}),s("div",null,e)}},{field:"otherInformationEmail",label:"\u5176\u4ED6\u6240\u6709\u8005\u90AE\u7BB1",render:a=>{var l;let e="";return(l=JSON.parse(a||"[]"))==null||l.forEach((u,t)=>{t==JSON.parse(a).length-1?(console.log(" ",u),e=e+u.mail):e=e+u.mail+","}),s("div",null,e)}},{field:"sharerQuery",label:"\u6570\u636E\u5171\u4EAB\u4EBA"},{field:"shareInformationName",label:"\u5176\u4ED6\u5171\u4EAB\u4EBA\u7684\u4FE1\u606F",render:a=>{var l;let e="";return(l=JSON.parse(a||"[]"))==null||l.forEach((u,t)=>{t==JSON.parse(a).length-1?e=e+u.name:e=e+u.name+","}),s("div",null,e)}},{field:"articleContent",label:"\u6587\u7AE0\u5185\u5BB9"}],[O,{getSelectRows:Q,clearSelectedRowKeys:z}]=L({columns:[{title:m("mom.check.fileRealName"),dataIndex:"fileRealName",width:150},{title:m("mom.check.fileSize"),dataIndex:"fileSize",width:150,format:(a,e,l)=>`${(a/1024/1024).toFixed(2)} MB`},{title:m("mom.check.status"),dataIndex:"status",width:100,slots:{customRender:"status"}}],dataSource:o.value.temporaryWarehouseOssList,afterFetch:a=>a,useSearchForm:!1,formConfig:{labelWidth:120,schemas:[{field:"times",component:"RangePicker",label:"\u521B\u5EFA\u65E5\u671F",colProps:{span:6},componentProps:{format:"YYYY-MM-DD ",placeholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"],showTime:{format:"HH:mm:ss"}}},{field:"keyword",component:"Input",label:"\u5173\u952E\u5B57",colProps:{span:5,offset:2}}],actionColOptions:{offset:14,span:10}},clickToRowSelect:!1,isTreeTable:!1,striped:!0,showTableSetting:!1,showIndexColumn:!1,canResize:!0,actionColumn:{width:80,title:m("mom.check.action"),slots:{customRender:"action"},fixed:"right"},rowSelection:{type:"checkbox"}}),G=a=>d(this,null,function*(){const e=yield D({id:a.id});$({url:e.downloadUrl,target:"_self",fileName:e.fileRealName})}),R=()=>d(this,null,function*(){const a=yield Q();a.length==0&&x.error("\u8BF7\u52FE\u9009\u4EE5\u4E0B\u8868\u683C\u5185\u6587\u4EF6"),a.forEach((e,l)=>d(this,null,function*(){setTimeout(()=>d(this,null,function*(){const u=yield D({id:e.id}),t=document.createElement("iframe");t.style.display="none",t.style.height="0",t.src=u.downloadUrl,document.body.appendChild(t),setTimeout(()=>{t.remove()},1e3)}),(l+1)*300)})),z()});j(()=>d(this,null,function*(){const a=yield X({meaning:"multiomics_Management_type"});b.value=a,b.value.forEach((t,f)=>{t.label=t.projectName,t.value=t.id,t.key=f});const e=yield k({meaning:"multiomics_Management_type"});A.value=e,A.value.forEach((t,f)=>{t.label=t.name,t.value=t.code,t.key=f});const l=yield k({meaning:"multiomics_Management_platform"});i.value=l,i.value.forEach((t,f)=>{t.label=t.name,t.value=t.code,t.key=f}),console.log(p.params.id);const u=yield V({id:p.params.id});o.value=u.record,console.log(" ",o.value[0])}));const T=a=>new URL({"../../../assets/detail/modal-close.svg":U}[`../../../assets/detail/${a}`],self.location).href;return(a,e)=>{const l=N("a-tooltip"),u=N("a-button");return g(),h("div",null,[s(r(H),{contentFullHeight:!0},{default:n(()=>[s(r(I),{title:r(m)("mom.check.title")},{extra:n(()=>[w("img",{style:{cursor:"pointer",height:"10px",width:"10px"},src:T("modal-close.svg"),alt:"close",onClick:e[0]||(e[0]=()=>{r(E)("/mom")})},null,8,te)]),default:n(()=>[s(r(ee),{column:2,data:o.value,"onUpdate:data":e[1]||(e[1]=t=>o.value=t),schema:M},null,8,["data"])]),_:1},8,["title"]),s(r(I),null,{default:n(()=>[s(r(q),{onRegister:r(O)},{toolbar:n(()=>[s(l,{placement:"top"},{title:n(()=>[ae]),default:n(()=>[s(r(K),{size:"middle",style:{background:"#3152ed",color:"#ffffff",border:"1px solid #666666",margin:"0px 0px",borderRadius:"4px"},onClick:e[2]||(e[2]=()=>{R()})},{default:n(()=>[S(C(r(m)("mom.check.downs")),1)]),_:1})]),_:1})]),status:n(({record:t})=>[w("div",oe,[t.status=="uploading"?(g(),h("div",{key:0,style:v({margin:"6px 6px 0px 10px",width:"100px",height:"12px",background:"url(data:application/octet-stream;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAMCAYAAADf7cuOAAAAAXNSR0IArs4c6QAAAPVJREFUSA1jZACC17tyTJg/XV7N+uWOLOOvt8wgMXqAf2yiDD8ETBg+KhYw/GUXp4eV+Ox4zsjIeICJialMVVX1CSMoUDierjrJ+PsTEz5dtJT7x8rP8NJo1WAIHJA33zEzM+szgVLKQAYKyCVMvz8y8N+fAGIOBiD079+/LiZQ9hkMruH4cGYwOAPshv///zsw0bNMwedzpl+v8UnTW05ywMoVevuUVPtGAwZHiI0GDK6A+c8m/BeHHF2FQW2aQQSeM/3mUXk8GBwEaugNFgBu6P3l0w39z8r3byAdBWrggVq/gwS8A7V+GUGOGe0SgKMEpUsAAAiVU8NCHt26AAAAAElFTkSuQmCC)100% no-repeat",backgroundSize:"100% 100%"})},null,4)):t.status=="done"?(g(),h("div",{key:1,style:v({margin:"6px 6px 0px 10px",width:"100px",height:"12px",background:"url(data:application/octet-stream;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAMCAYAAADf7cuOAAAAAXNSR0IArs4c6QAAAK9JREFUSA1jZACClstHTG79+rj6yZ9vsh/+/WYGiY00IMDE+leGheuxGht/aI2uzRlGUKDs/Pbs5Nd/f5hGWmBg8y83E8s/dy4pcyZQShkNFEQQgcICFCZMoOyDEB5lgUIAFCZMI7VMwZcEQGEyWq7gCKHRgBkNGBwhgEOYCVR/45AbscKgMGECNWpGbAjg8DgoTJhALT1QowaHmhEnDAoLUJgwgnw+2iVgYEDvEgAAis9KZYa51gwAAAAASUVORK5CYII=)100% no-repeat",backgroundSize:"100% 100%"})},null,4)):t.status=="suspend"?(g(),h("div",{key:2,style:v({margin:"6px 6px 0px 10px",width:"100px",height:"12px",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIwAAAAYCAYAAAAoNxVrAAAAAXNSR0IArs4c6QAAAXdJREFUaEPtmzFKxFAYhGcsjEX2CMkBIngIC8F72IgW4kHUQrHxHoKFhxA2B8geIQGzFv7yIoZlRcy+1+Wf7QJvHsw3A9nk/SG2fuuyPDTgDMAJzEoD8u01up4vAQIdyAbAC4GnrGmWm275c2FVtb9u2xsA5wbszReJnE0lQOATwGO2WFyzrj+CbijMUJauezaz46mbaZ0fAiRfszw/DaUZCtMXxb0BF34QyOmuBAg8HKxWlxz+s5i96Ta0K0Jf68PtieQR+7K8NbMrX/blNoYAybtQmKWZVTEbSOOLAMmafVG0enT2FXys2/DIzfeisNgNpPNHQIXxl3mSYxUmCZ8/sQrjL/MkxypMEj5/YhXGX+ZJjlWYJHz+xCqMv8yTHOvFXRI+X+LhxZ2OBnyFnuL2+2hAh48pDF1ph8NHjTe4yjza7DjeEHbQAFU0RzfCcYAqONaIppvco4z+GtEcS6Mh8CigcxX9OQS+aVifmcw1/mm+/vvM5AsQnJI77JsgrQAAAABJRU5ErkJggg==",backgroundSize:"100% 100%"})},null,4)):(g(),h("div",{key:3,style:v({margin:"6px 6px 0px 10px",width:"100px",height:"12px",background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAAAMCAYAAADf7cuOAAAAAXNSR0IArs4c6QAAAKlJREFUSA3t17ENhDAMBdDzzwZ0SNemZoWbiiFuEdZgBeq0SOmyQZLzl2iQfCzguItNkxeCPvLSSim9W2vf3vtHlzN7DiuLyA5gjTGeQpRa66EQk0MMa8slhLCAb8pAuflMNMF1fW4T7wuaQBG8flOezn8mzChDYMAYKGwNmAeY/GfmuZ3BUONZwNr7FfSw6rBYDzjtFaZfMP4y6anSphCerxV/CTZa0OQHG68u/G377/MAAAAASUVORK5CYII=)100% no-repeat"})},null,4)),w("span",le,C(t.status=="done"?"\u5DF2\u5B8C\u6210":t.status=="uploading"?"\u4E0A\u4F20\u4E2D":t.status=="suspend"?"\u4E0A\u4F20\u5931\u8D25":"\u672A\u4E0A\u4F20\u6587\u4EF6"),1)])]),action:n(({record:t})=>[s(u,{type:"link",disabled:t.status!=="done",onClick:()=>{G(t)}},{default:n(()=>[S(C(r(m)("mom.check.down")),1)]),_:2},1032,["disabled","onClick"])]),_:1},8,["onRegister"])]),_:1})]),_:1})])}}});export{Je as default};
