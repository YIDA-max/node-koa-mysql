var i=(a,u,t)=>new Promise((f,m)=>{var _=o=>{try{n(t.next(o))}catch(c){m(c)}},p=o=>{try{n(t.throw(o))}catch(c){m(c)}},n=o=>o.done?f(o.value):Promise.resolve(o.value).then(_,p);n((t=t.apply(a,u)).next())});import{u as B,B as R}from"./useTable.a143d40c.js";import"./TableAction.edf9a202.js";import{a as k,b as E,u as D,r as M,aw as S,q as A,x as w,o as q,c as F,i as h,A as l,D as C,t as T,j as d,ab as N,p as O,k as U,e as V,G as $}from"./index.10ef4608.js";import{b as P}from"./homePage.249d27b4.js";import"./useForm.98d7b8ca.js";/* empty css              *//* empty css               *//* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css               */import"./index.b6ac86eb.js";import"./useAttrs.1d381a3e.js";/* empty css                *//* empty css                */import"./uuid.2429c801.js";import"./index.c8f8ec06.js";import"./useWindowSizeFn.3e5b045d.js";import"./useModalContext.52c86736.js";/* empty css                */import"./download.66a6d137.js";import"./index.504b494d.js";import"./index.8d0858e7.js";/* empty css               */import"./onMountedOrActivated.0d13b2a6.js";import"./useContentViewHeight.9302814f.js";import"./icon-remark.1929ee0a.js";import"./useSortable.79752a2a.js";/* empty css                */const j=a=>(O("data-v-71bce6f6"),a=a(),U(),a),z=j(()=>V("span",null,"\u6279\u91CF\u4E0B\u8F7D\u8868\u683C\u5185\u6587\u4EF6",-1)),G=E({__name:"TabOriginalData",props:{queryAllInfoResponses:{type:Array,required:!0}},setup(a){const u=a,{t}=D(),f=new Date,m=new Date,{createMessage:_}=$();f.setMonth(f.getMonth()-1),m.setMonth(m.getMonth()+1);const p=M(!0),n=S(),o=()=>[{title:t("moa.ard.fileName"),dataIndex:"fileRealName",width:200},{title:t("moa.ard.filePath"),dataIndex:"downloadUrl",width:300}],[c,{getSelectRows:y,setTableData:x}]=B({columns:o(),afterFetch:e=>e,bordered:!0,clickToRowSelect:!1,isTreeTable:!1,striped:!0,showTableSetting:!1,showIndexColumn:!1,canResize:!1,actionColumn:{width:100,title:t("moa.ard.operation"),slots:{customRender:"action"},fixed:"right"},rowSelection:{type:"checkbox"}}),I=e=>i(this,null,function*(){e.code=="\u591A\u7EC4\u5B66"?n.push({path:`/mom/check/${e.multiomicsManagementId}`}):e.code=="\u53C2\u8003\u6570\u636E\u96C6"&&n.push({path:`/rdm/check/${e.multiomicsManagementId}`})}),v=()=>i(this,null,function*(){y().length==0&&_.error("\u8BF7\u52FE\u9009\u4EE5\u4E0B\u8868\u683C\u5185\u6587\u4EF6"),y().forEach((e,r)=>i(this,null,function*(){setTimeout(()=>i(this,null,function*(){const g=yield P({id:e.id}),s=document.createElement("iframe");s.style.display="none",s.style.height="0",s.src=g.downloadUrl,document.body.appendChild(s),setTimeout(()=>{s.remove()},1e3)}),(r+1)*300)}))});return A(()=>i(this,null,function*(){const e=setInterval(()=>{u.queryAllInfoResponses&&u.queryAllInfoResponses.length>0&&(x([...u.queryAllInfoResponses]),clearTimeout(e))},100);setTimeout(()=>{clearTimeout(e)},1e4)})),(e,r)=>{const g=w("CustomButton"),s=w("a-tooltip");return q(),F("div",null,[h(d(R),{onRegister:d(c),onSelectionChange:r[1]||(r[1]=({rows:b})=>{b.length>0?p.value=!1:p.value=!0})},{toolbar:l(()=>[h(s,{placement:"top"},{title:l(()=>[z]),default:l(()=>[h(g,{onClick:r[0]||(r[0]=()=>{v()}),disabled:p.value,style:{background:"#3152ed",color:"#ffffff",margin:"0px 0px",borderRadius:"4px"}},{default:l(()=>[C(T(d(t)("moa.ard.downs")),1)]),_:1},8,["disabled"])]),_:1})]),action:l(({record:b})=>[h(d(N),{onClick:H=>I(b),type:"link"},{default:l(()=>[C(T(d(t)("moa.ard.originRecord")),1)]),_:2},1032,["onClick"])]),_:1},8,["onRegister"])])}}});var xe=k(G,[["__scopeId","data-v-71bce6f6"]]);export{xe as default};
